<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocaLife - Connect Locally, Live Fully</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Appwrite Web SDK -->
    <script src="https://cdn.jsdelivr.net/npm/appwrite@13.0.1"></script>
    <style>
        /* Enhanced CSS for animations and effects */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        
        @keyframes slideInFromTop {
            from { opacity: 0; transform: translateY(-0.5rem); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInFromBottom {
            from { opacity: 0; transform: translateY(1rem); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInFromLeft {
            from { opacity: 0; transform: translateX(-1rem); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInFromRight {
            from { opacity: 0; transform: translateX(1rem); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Enhanced Background Effects */
        .animated-background {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
                
        .neon-animated-background {
            background: radial-gradient(ellipse at center, #0a0a0a 0%, #000000 100%);
            position: relative;
            overflow: hidden;
        }
                
        .neon-animated-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(-45deg, #00ffff20, #ff00ff20, #ffff0020, #00ff4120);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            z-index: 1;
        }
                
        .floating-orbs {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 2;
        }
                
        .floating-orb {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            animation: floatOrb 20s infinite linear;
        }
                
        .floating-orb:nth-child(1) {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #00ffff, transparent);
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }
                
        .floating-orb:nth-child(2) {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, #ff00ff, transparent);
            top: 60%;
            left: 80%;
            animation-delay: -5s;
        }
                
        .floating-orb:nth-child(3) {
            width: 60px;
            height: 6git0px;
            background: radial-gradient(circle, #ffff00, transparent);
            top: 80%;
            left: 20%;
            animation-delay: -10s;
        }
        @keyframes floatOrb {
            0% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-30px) rotate(120deg); }
            66% { transform: translateY(30px) rotate(240deg); }
            100% { transform: translateY(0px) rotate(360deg); }
        }

        /* Enhanced Theme Transition Animations */
        .theme-transition-regular { animation: themeTransitionRegular 1s ease-in-out forwards; }
        .theme-transition-to-neon { animation: themeTransitionToNeon 1.2s ease-in-out forwards; }
        .theme-transition-from-neon { animation: themeTransitionFromNeon 1.2s ease-in-out forwards; }
        .theme-transition-neon-shift { animation: themeTransitionNeonShift 1.2s ease-in-out forwards; }
        .theme-transition-particle { animation: particleFloat 1.5s ease-in-out forwards; }
        .theme-transition-ripple {
            width: 10px; height: 10px; border-radius: 50%; border: 2px solid;
            animation: rippleEffect 1.2s ease-out forwards;
        }
        .theme-transition-flash { animation: flashEffect 0.5s ease-out forwards; }
        @keyframes themeTransitionRegular {
            0% { opacity: 0.7; } 20% { opacity: 0.5; } 80% { opacity: 0.3; } 100% { opacity: 0; }
        }
        @keyframes themeTransitionToNeon {
            0% { opacity: 0.7; filter: brightness(1); }
            20% { opacity: 0.8; filter: brightness(1.2); }
            50% { opacity: 0.6; filter: brightness(1.5); }
            80% { opacity: 0.4; filter: brightness(1.2); }
            100% { opacity: 0; filter: brightness(1); }
        }
        @keyframes themeTransitionFromNeon {
            0% { opacity: 0.7; filter: brightness(1.5); }
            20% { opacity: 0.8; filter: brightness(1.2); }
            50% { opacity: 0.6; filter: brightness(1); }
            80% { opacity: 0.4; filter: brightness(0.9); }
            100% { opacity: 0; filter: brightness(1); }
        }
        @keyframes themeTransitionNeonShift {
            0% { opacity: 0.7; filter: hue-rotate(0deg) brightness(1.5); }
            20% { opacity: 0.8; filter: hue-rotate(90deg) brightness(1.7); }
            50% { opacity: 0.6; filter: hue-rotate(180deg) brightness(1.5); }
            80% { opacity: 0.4; filter: hue-rotate(270deg) brightness(1.3); }
            100% { opacity: 0; filter: hue-rotate(360deg) brightness(1.5); }
        }
        @keyframes particleFloat {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-100px) scale(0); }
        }
        @keyframes rippleEffect {
            0% { width: 10px; height: 10px; opacity: 1; }
            100% { width: 300vw; height: 300vw; opacity: 0; }
        }
        @keyframes flashEffect {
            0% { background-color: transparent; }
            10% { background-color: rgba(255, 255, 255, 0.8); }
            100% { background-color: transparent; }
        }

        /* Enhanced Holographic Effects */
        .holographic-card { position: relative; overflow: hidden; }
        .holographic-card:hover .holographic-base { opacity: 0.15; }
        .holographic-card:hover .holographic-shimmer { opacity: 0.4; }
        .holographic-card:hover .holographic-rainbow { opacity: 0.25; }
        .holographic-card:hover .holographic-spotlight { opacity: 1; }
        .holographic-card:hover .holographic-prism { opacity: 0.2; }
        .holographic-base {
            background: linear-gradient(45deg, rgba(255, 0, 150, 0.1) 0%, rgba(0, 255, 255, 0.1) 25%, rgba(255, 255, 0, 0.1) 50%, rgba(150, 0, 255, 0.1) 75%, rgba(255, 0, 150, 0.1) 100%);
            animation: holographicShift 3s ease-in-out infinite;
        }
        .holographic-shimmer {
            background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);
            animation: shimmerMove 2s ease-in-out infinite;
        }
        .holographic-rainbow {
            background: linear-gradient(135deg, rgba(255, 0, 0, 0.1) 0%, rgba(255, 154, 0, 0.1) 10%, rgba(208, 222, 33, 0.1) 20%, rgba(79, 220, 74, 0.1) 30%, rgba(63, 218, 216, 0.1) 40%, rgba(47, 201, 226, 0.1) 50%, rgba(28, 127, 238, 0.1) 60%, rgba(95, 39, 205, 0.1) 70%, rgba(154, 12, 232, 0.1) 80%, rgba(190, 0, 190, 0.1) 90%, rgba(255, 0, 0, 0.1) 100%);
            animation: rainbowShift 4s linear infinite;
        }
        .holographic-prism {
            background: linear-gradient(60deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 0, 255, 0.05) 33%, rgba(0, 255, 255, 0.05) 66%, rgba(255, 255, 255, 0.1) 100%);
            animation: prismShift 2.5s ease-in-out infinite alternate;
        }

        /* Enhanced Button Holographic Effects */
        .holographic-button { position: relative; overflow: hidden; }
        .holographic-button:hover .holographic-btn-base { opacity: 0.2; }
        .holographic-button:hover .holographic-btn-shimmer { opacity: 0.5; }
        .holographic-button:hover .holographic-btn-rainbow { opacity: 0.3; }
        .holographic-button:hover .holographic-btn-spotlight { opacity: 1; }
        .holographic-button:hover .holographic-btn-prism { opacity: 0.25; }
        .holographic-button:hover .holographic-btn-pulse { opacity: 0.4; }
        .holographic-btn-base {
            background: linear-gradient(45deg, rgba(255, 0, 150, 0.2) 0%, rgba(0, 255, 255, 0.2) 50%, rgba(255, 0, 150, 0.2) 100%);
            animation: holographicShift 2s ease-in-out infinite;
        }
        .holographic-btn-shimmer {
            background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.4) 50%, transparent 100%);
            animation: shimmerMove 1.5s ease-in-out infinite;
        }
        .holographic-btn-rainbow {
            background: linear-gradient(45deg, rgba(255, 0, 0, 0.2) 0%, rgba(255, 154, 0, 0.2) 16.66%, rgba(208, 222, 33, 0.2) 33.33%, rgba(79, 220, 74, 0.2) 50%, rgba(63, 218, 216, 0.2) 66.66%, rgba(28, 127, 238, 0.2) 83.33%, rgba(95, 39, 205, 0.2) 100%);
            animation: rainbowShift 3s linear infinite;
        }
        .holographic-btn-prism {
            background: linear-gradient(120deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 0, 255, 0.15) 50%, rgba(0, 255, 255, 0.15) 100%);
            animation: prismShift 2s ease-in-out infinite alternate;
        }
        .holographic-btn-pulse {
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, rgba(255, 0, 255, 0.15) 50%, transparent 100%);
            animation: pulseGlow 1.5s ease-in-out infinite alternate;
        }

        /* Enhanced Neon Effects */
        .neon-mode .neon-glow { box-shadow: 0 0 30px var(--theme-glow, #00ffff), 0 0 60px var(--theme-glow, #00ffff); }
        .neon-mode .neon-nav-glow { box-shadow: inset 0 0 80px var(--theme-glow, #00ffff); }
        .neon-mode .neon-arc-glow { box-shadow: 0 0 150px var(--theme-glow, #00ffff), 0 0 300px var(--theme-shadow, #ff00ff); }
        .neon-mode .neon-button-glow { box-shadow: 0 0 25px var(--theme-glow, #00ffff), inset 0 0 25px var(--theme-glow, #00ffff); }
        .neon-mode .neon-nav-item-active { box-shadow: 0 0 40px var(--theme-glow, #00ffff), inset 0 0 30px var(--theme-glow, #00ffff); }
        .neon-mode .neon-nav-item-hover:hover { box-shadow: 0 0 30px var(--theme-glow, #00ffff); }
        .neon-mode .neon-icon-active { box-shadow: 0 0 35px var(--theme-glow, #00ffff), 0 0 70px var(--theme-glow, #00ffff); }
        .neon-mode .neon-icon-hover:hover { box-shadow: 0 0 25px var(--theme-glow, #00ffff); }
        .neon-mode .neon-text-active { text-shadow: 0 0 15px var(--theme-glow, #00ffff), 0 0 30px var(--theme-glow, #00ffff); }
        .neon-mode .neon-text-hover:hover { text-shadow: 0 0 12px var(--theme-glow, #00ffff); }
        .neon-mode .neon-text-glow { text-shadow: 0 0 15px var(--theme-glow, #00ffff); }
        .neon-mode .neon-dot-glow { box-shadow: 0 0 20px var(--theme-glow, #00ffff), 0 0 40px var(--theme-glow, #00ffff); }
        .neon-mode .neon-avatar-glow { filter: drop-shadow(0 0 20px var(--theme-glow, #00ffff)); }
        .neon-mode .neon-tooltip-glow { box-shadow: 0 0 30px var(--theme-glow, #00ffff), inset 0 0 30px var(--theme-glow, #00ffff); }
        .neon-mode .neon-bottom-glow { box-shadow: 0 0 40px var(--theme-glow, #00ffff); }
        .neon-mode .neon-indicator-glow { box-shadow: 0 0 15px var(--theme-glow, #00ffff); }
        .neon-mode .neon-border-glow { box-shadow: 0 0 40px var(--theme-glow, #00ffff), inset 0 0 40px var(--theme-glow, #00ffff); }
        .neon-mode .neon-card-glow { box-shadow: 0 0 35px var(--theme-glow, #00ffff), inset 0 0 35px var(--theme-glow, #00ffff); }
        .neon-mode .neon-preview-glow { box-shadow: 0 0 30px var(--theme-glow, #00ffff), inset 0 0 30px var(--theme-glow, #00ffff); }
        .neon-mode .neon-switch-glow { box-shadow: 0 0 30px var(--theme-glow, #00ffff), inset 0 0 15px var(--theme-glow, #00ffff); }
        .neon-mode .neon-check-glow { box-shadow: 0 0 20px var(--theme-glow, #00ffff); }
        .neon-mode .neon-icon-glow { box-shadow: 0 0 20px var(--theme-glow, #00ffff); }
        .neon-mode .neon-orb-glow { box-shadow: 0 0 60px var(--theme-glow, #00ffff), 0 0 120px var(--theme-shadow, #ff00ff); }
        .neon-mode .neon-pulse { animation: neonPulse 2s ease-in-out infinite alternate; }
        .neon-mode .neon-post-glow { box-shadow: 0 0 25px var(--theme-glow, #00ffff), inset 0 0 15px var(--theme-glow, #00ffff); }
        .neon-mode .neon-search-glow { box-shadow: 0 0 20px var(--theme-glow, #00ffff), inset 0 0 10px var(--theme-glow, #00ffff); }
        @keyframes neonPulse {
            from { box-shadow: 0 0 30px var(--theme-glow, #00ffff), 0 0 60px var(--theme-shadow, #ff00ff); }
            to { box-shadow: 0 0 60px var(--theme-glow, #00ffff), 0 0 120px var(--theme-shadow, #ff00ff); }
        }

        /* Enhanced Keyframe Animations */
        @keyframes holographicShift {
            0%, 100% { transform: translateX(-2px) rotate(0deg); }
            25% { transform: translateX(2px) rotate(0.5deg); }
            50% { transform: translateX(-1px) rotate(-0.5deg); }
            75% { transform: translateX(1px) rotate(0.25deg); }
        }
        @keyframes shimmerMove {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        @keyframes rainbowShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes prismShift {
            0% { transform: skewX(-2deg) translateX(-2px); }
            100% { transform: skewX(2deg) translateX(2px); }
        }
        @keyframes pulseGlow {
            0% { transform: scale(1); opacity: 0.4; }
            100% { transform: scale(1.05); opacity: 0.2; }
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        @keyframes glow {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        /* Enhanced Grid Layouts */
        .posts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
            padding: 1.5rem;
        }
        @media (max-width: 768px) {
            .posts-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }
        }
        .post-card {
            transition: all 0.3s ease;
            transform-origin: center;
        }
        .post-card:hover {
            transform: translateY(-8px) scale(1.02);
        }
        .neon-mode .post-card:hover {
            transform: translateY(-12px) scale(1.03);
        }

        /* Location Badge Styles */
        .location-badge {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1));
            border: 1px solid rgba(59, 130, 246, 0.3);
            backdrop-filter: blur(10px);
        }
        .neon-mode .location-badge {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
            border: 1px solid var(--theme-glow, #00ffff);
            box-shadow: 0 0 15px var(--theme-glow, #00ffff);
        }

        /* Sound Visualizer Styles */
        .sound-visualizer {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            align-items: end;
            gap: 2px;
            height: 40px;
        }

        .sound-bar {
            width: 3px;
            background: linear-gradient(to top, #3b82f6, #06b6d4, #14b8a6);
            border-radius: 2px;
            animation: soundWave 1s ease-in-out infinite;
        }

        .sound-bar:nth-child(1) { animation-delay: 0s; height: 10px; }
        .sound-bar:nth-child(2) { animation-delay: 0.1s; height: 15px; }
        .sound-bar:nth-child(3) { animation-delay: 0.2s; height: 25px; }
        .sound-bar:nth-child(4) { animation-delay: 0.3s; height: 20px; }
        .sound-bar:nth-child(5) { animation-delay: 0.4s; height: 30px; }
        .sound-bar:nth-child(6) { animation-delay: 0.5s; height: 18px; }
        .sound-bar:nth-child(7) { animation-delay: 0.6s; height: 22px; }

        @keyframes soundWave {
            0%, 100% { transform: scaleY(1); opacity: 0.5; }
            50% { transform: scaleY(2); opacity: 1; }
        }

        .neon-mode .sound-bar {
            background: linear-gradient(to top, var(--theme-glow, #00ffff), var(--theme-shadow, #ff00ff));
            box-shadow: 0 0 5px var(--theme-glow, #00ffff);
        }

        /* Profile Enhancement Styles */
        .profile-stats-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .neon-mode .profile-stats-card {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
            border: 1px solid var(--theme-glow, #00ffff);
            box-shadow: 0 0 20px var(--theme-glow, #00ffff);
        }

        .achievement-badge {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            animation: achievementGlow 2s ease-in-out infinite alternate;
        }

        @keyframes achievementGlow {
            from { box-shadow: 0 0 10px #ffd700; }
            to { box-shadow: 0 0 20px #ffd700, 0 0 30px #ffed4e; }
        }

        /* Form Enhancement Styles */
        .form-field-valid {
            border-color: #10b981 !important;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1) !important;
        }

        .form-field-invalid {
            border-color: #ef4444 !important;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
        }

        .form-field-loading {
            background-image: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.2) 50%, transparent 100%);
            background-size: 200px 100%;
            animation: shimmerLoading 1.5s infinite;
        }

        @keyframes shimmerLoading {
            0% { background-position: -200px 0; }
            100% { background-position: calc(200px + 100%) 0; }
        }

        /* Enhanced utility classes */
        .animate-in { animation-fill-mode: both; }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        .slide-in-from-top-2 { animation: slideInFromTop 0.5s ease-out; }
        .slide-in-from-bottom-4 { animation: slideInFromBottom 0.5s ease-out; }
        .slide-in-from-left-4 { animation: slideInFromLeft 0.5s ease-out; }
        .slide-in-from-right-4 { animation: slideInFromRight 0.5s ease-out; }
        .scale-in { animation: scaleIn 0.5s ease-out; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .line-clamp-1 { overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; }
        .line-clamp-2 { overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; }
        .line-clamp-3 { overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; }

        /* Enhanced landing page animations */
        .landing-float { animation: float 6s ease-in-out infinite; }
        .landing-glow { animation: glow 3s ease-in-out infinite; }

        /* Responsive text sizing */
        @media (max-width: 768px) {
            .landing-title { font-size: 3rem; }
            .landing-subtitle { font-size: 1.5rem; }
        }
        @media (max-width: 480px) {
            .landing-title { font-size: 2.5rem; }
            .landing-subtitle { font-size: 1.25rem; }
        }

        /* Loading skeleton animations */
        @keyframes skeleton {
            0% { background-position: -200px 0; }
            100% { background-position: calc(200px + 100%) 0; }
        }
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200px 100%;
            animation: skeleton 1.5s infinite;
        }
        .neon-mode .skeleton {
            background: linear-gradient(90deg, #2a2a2a 25%, #3a3a3a 50%, #2a2a2a 75%);
            background-size: 200px 100%;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useRef, createContext, useContext } = React;

        // Appwrite Configuration
        const APPWRITE_CONFIG = {
            endpoint: 'https://fra.cloud.appwrite.io/v1',
            projectId: '687f57a8000088027f2e',
            databaseId: '6880b1d800195d479b9c',
            usersCollectionId: '688cc36900099f8b2e42',
            postsCollectionId: '688cc376000640616704',
            bucketsId: '687f5a0e0027b57bd7f3'
        };

        // Initialize Appwrite
        const client = new Appwrite.Client()
            .setEndpoint(APPWRITE_CONFIG.endpoint)
            .setProject(APPWRITE_CONFIG.projectId);

        const account = new Appwrite.Account(client);
        const databases = new Appwrite.Databases(client);
        const storage = new Appwrite.Storage(client);

        // Enhanced Sound Context
        const SoundContext = createContext();

        function SoundProvider({ children }) {
            const [isPlaying, setIsPlaying] = useState(false);
            const [volume, setVolume] = useState(0.3);
            const [currentTrack, setCurrentTrack] = useState(0);
            const audioRef = useRef(null);
            const analyserRef = useRef(null);
            const audioContextRef = useRef(null);

            // Background music tracks
            const tracks = [
                { name: "Ambient Chill", url: "https://www.soundjay.com/misc/beep-07a.wav" },
                { name: "Cyber Wave", url: "https://www.soundjay.com/misc/beep-10.wav" },
                { name: "Digital Dreams", url: "https://www.soundjay.com/misc/beep-20.wav" }
            ];

            useEffect(() => {
                // Initialize audio context for visualizer
                if (typeof window !== 'undefined' && window.AudioContext) {
                    audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();
                }

                return () => {
                    if (audioContextRef.current) {
                        audioContextRef.current.close();
                    }
                };
            }, []);

            const playMusic = () => {
                if (audioRef.current) {
                    audioRef.current.play().catch(console.error);
                    setIsPlaying(true);
                }
            };

            const pauseMusic = () => {
                if (audioRef.current) {
                    audioRef.current.pause();
                    setIsPlaying(false);
                }
            };

            const toggleMusic = () => {
                isPlaying ? pauseMusic() : playMusic();
            };

            const changeVolume = (newVolume) => {
                setVolume(newVolume);
                if (audioRef.current) {
                    audioRef.current.volume = newVolume;
                }
            };

            const nextTrack = () => {
                setCurrentTrack((prev) => (prev + 1) % tracks.length);
            };

            const prevTrack = () => {
                setCurrentTrack((prev) => (prev - 1 + tracks.length) % tracks.length);
            };

            return React.createElement(SoundContext.Provider, {
                value: {
                    isPlaying,
                    volume,
                    currentTrack,
                    tracks,
                    playMusic,
                    pauseMusic,
                    toggleMusic,
                    changeVolume,
                    nextTrack,
                    prevTrack,
                    audioRef,
                    analyserRef
                }
            }, [
                children,
                // Hidden audio element
                React.createElement("audio", {
                    key: "audio",
                    ref: audioRef,
                    loop: true,
                    volume: volume,
                    onEnded: nextTrack,
                    style: { display: 'none' }
                }, React.createElement("source", {
                    src: tracks[currentTrack]?.url,
                    type: "audio/wav"
                }))
            ]);
        }

        function useSound() {
            const context = useContext(SoundContext);
            if (context === undefined) {
                throw new Error('useSound must be used within a SoundProvider');
            }
            return context;
        }

        // Enhanced Location Context with better location services
        const LocationContext = createContext();

        function LocationProvider({ children }) {
            const [userLocation, setUserLocation] = useState(null);
            const [locationError, setLocationError] = useState(null);
            const [isLoadingLocation, setIsLoadingLocation] = useState(false);
            const [locationPermission, setLocationPermission] = useState('prompt');
            const [nearbyPlaces, setNearbyPlaces] = useState([]);

            // Get location with enhanced error handling and fallback
            const getCurrentLocation = () => {
                setIsLoadingLocation(true);
                setLocationError(null);

                if (!navigator.geolocation) {
                    setLocationError('Geolocation is not supported by this browser.');
                    setIsLoadingLocation(false);
                    return;
                }

                // Check permission first
                if (navigator.permissions) {
                    navigator.permissions.query({ name: 'geolocation' }).then((result) => {
                        setLocationPermission(result.state);
                        if (result.state === 'denied') {
                            setLocationError('Location access denied. Please enable location services.');
                            setIsLoadingLocation(false);
                            return;
                        }
                    });
                }

                const options = {
                    enableHighAccuracy: true,
                    timeout: 15000,
                    maximumAge: 300000 // 5 minutes
                };

                navigator.geolocation.getCurrentPosition(
                    async (position) => {
                        const { latitude, longitude, accuracy } = position.coords;
                        
                        try {
                            // Enhanced location data with reverse geocoding simulation
                            const locationData = await getLocationDetails(latitude, longitude);
                            
                            const enhancedLocation = {
                                latitude,
                                longitude,
                                accuracy,
                                ...locationData,
                                timestamp: Date.now()
                            };

                            setUserLocation(enhancedLocation);
                            localStorage.setItem('userLocation', JSON.stringify(enhancedLocation));
                            
                            // Get nearby places for better location context
                            await getNearbyPlaces(latitude, longitude);
                            
                        } catch (error) {
                            console.error('Error getting location details:', error);
                            const basicLocation = {
                                latitude,
                                longitude,
                                accuracy,
                                city: 'Unknown City',
                                country: 'Unknown Country',
                                address: 'Unknown Address',
                                region: 'Unknown Region',
                                postalCode: 'Unknown',
                                timestamp: Date.now()
                            };
                            setUserLocation(basicLocation);
                        }
                        setIsLoadingLocation(false);
                    },
                    (error) => {
                        let errorMessage = 'Unable to retrieve your location.';
                        switch (error.code) {
                            case error.PERMISSION_DENIED:
                                errorMessage = 'Location access denied. Please enable location services.';
                                setLocationPermission('denied');
                                break;
                            case error.POSITION_UNAVAILABLE:
                                errorMessage = 'Location information is unavailable.';
                                break;
                            case error.TIMEOUT:
                                errorMessage = 'Location request timed out. Please try again.';
                                break;
                        }
                        setLocationError(errorMessage);
                        setIsLoadingLocation(false);
                    },
                    options
                );
            };

            // Simulate reverse geocoding (in real app, use Google Maps API or similar)
            const getLocationDetails = async (lat, lng) => {
                // Simulate API call delay
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Mock location data based on coordinates
                const mockLocations = [
                    {
                        city: 'New York',
                        country: 'United States',
                        region: 'New York',
                        address: 'Manhattan, NY',
                        postalCode: '10001'
                    },
                    {
                        city: 'London',
                        country: 'United Kingdom',
                        region: 'England',
                        address: 'Central London',
                        postalCode: 'SW1A 1AA'
                    },
                    {
                        city: 'Tokyo',
                        country: 'Japan',
                        region: 'Kanto',
                        address: 'Shibuya, Tokyo',
                        postalCode: '150-0002'
                    },
                    {
                        city: 'Paris',
                        country: 'France',
                        region: 'ÃŽle-de-France',
                        address: 'Central Paris',
                        postalCode: '75001'
                    }
                ];

                // Return random location for demo
                return mockLocations[Math.floor(Math.random() * mockLocations.length)];
            };

            // Get nearby places for context
            const getNearbyPlaces = async (lat, lng) => {
                try {
                    // Mock nearby places
                    const mockPlaces = [
                        { name: 'Central Park', distance: 0.5, type: 'park' },
                        { name: 'Coffee Shop', distance: 0.2, type: 'cafe' },
                        { name: 'Community Center', distance: 0.8, type: 'community' },
                        { name: 'Library', distance: 1.2, type: 'library' },
                        { name: 'Shopping Mall', distance: 2.1, type: 'shopping' }
                    ];
                    setNearbyPlaces(mockPlaces);
                } catch (error) {
                    console.error('Error getting nearby places:', error);
                }
            };

            useEffect(() => {
                // Try to load cached location
                const cachedLocation = localStorage.getItem('userLocation');
                if (cachedLocation) {
                    try {
                        const parsed = JSON.parse(cachedLocation);
                        // Check if location is less than 1 hour old
                        if (Date.now() - parsed.timestamp < 3600000) {
                            setUserLocation(parsed);
                            return;
                        }
                    } catch (error) {
                        console.error('Error parsing cached location:', error);
                    }
                }
                
                // Get fresh location
                getCurrentLocation();
            }, []);

            const calculateDistance = (lat1, lon1, lat2, lon2) => {
                const R = 6371; // Radius of the Earth in kilometers
                const dLat = (lat2 - lat1) * Math.PI / 180;
                const dLon = (lon2 - lon1) * Math.PI / 180;
                const a = 
                    Math.sin(dLat/2) * Math.sin(dLat/2) +
                    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
                    Math.sin(dLon/2) * Math.sin(dLon/2);
                const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                const distance = R * c;
                return distance;
            };

            // Get events within a specific radius
            const getEventsInRadius = (events, radius = 10) => {
                if (!userLocation || !events) return events;
                
                return events.filter(event => {
                    if (!event.latitude || !event.longitude) return true; // Include events without location
                    
                    const distance = calculateDistance(
                        userLocation.latitude,
                        userLocation.longitude,
                        event.latitude,
                        event.longitude
                    );
                    
                    return distance <= radius;
                });
            };

            // Get location-based recommendations
            const getLocationRecommendations = () => {
                if (!userLocation) return [];
                
                return [
                    `Events in ${userLocation.city}`,
                    `Activities near ${userLocation.address}`,
                    `Community events in ${userLocation.region}`,
                    'Popular local spots'
                ];
            };

            return React.createElement(LocationContext.Provider, {
                value: {
                    userLocation,
                    locationError,
                    isLoadingLocation,
                    locationPermission,
                    nearbyPlaces,
                    getCurrentLocation,
                    calculateDistance,
                    getEventsInRadius,
                    getLocationRecommendations
                }
            }, children);
        }

        function useLocation() {
            const context = useContext(LocationContext);
            if (context === undefined) {
                throw new Error('useLocation must be used within a LocationProvider');
            }
            return context;
        }

        // Appwrite Context (Enhanced)
        const AppwriteContext = createContext();

        function AppwriteProvider({ children }) {
            const [user, setUser] = useState(null);
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [isLoading, setIsLoading] = useState(true);

            useEffect(() => {
                checkAuth();
            }, []);

            const checkAuth = async () => {
                try {
                    const currentUser = await account.get();
                    setUser(currentUser);
                    setIsAuthenticated(true);
                } catch (error) {
                    console.log('User not authenticated');
                    setIsAuthenticated(false);
                } finally {
                    setIsLoading(false);
                }
            };

            const signIn = async (email, password) => {
                try {
                    await account.createEmailSession(email, password);
                    const currentUser = await account.get();
                    setUser(currentUser);
                    setIsAuthenticated(true);
                    return { success: true };
                } catch (error) {
                    return { success: false, error: error.message };
                }
            };

            const signUp = async (email, password, name) => {
                try {
                    const newUser = await account.create(
                        Appwrite.ID.unique(),
                        email,
                        password,
                        name
                    );
                    
                    // Create user profile in database with enhanced data
                    await databases.createDocument(
                        APPWRITE_CONFIG.databaseId,
                        APPWRITE_CONFIG.usersCollectionId,
                        newUser.$id,
                        {
                            name: name,
                            email: email,
                            username: email.split('@')[0],
                            bio: `Hello! I'm ${name}`,
                            location: '',
                            website: '',
                            avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=4f46e5&color=fff&size=200`,
                            followers: 0,
                            following: 0,
                            postsCount: 0,
                            verified: false,
                            joinedDate: new Date().toISOString(),
                            achievements: [],
                            level: 1,
                            points: 0,
                            interests: [],
                            socialLinks: {}
                        }
                    );
                    
                    return await signIn(email, password);
                } catch (error) {
                    return { success: false, error: error.message };
                }
            };

            const signOut = async () => {
                try {
                    await account.deleteSession('current');
                    setUser(null);
                    setIsAuthenticated(false);
                } catch (error) {
                    console.error('Error signing out:', error);
                }
            };

            const getUserProfile = async (userId) => {
                try {
                    const profile = await databases.getDocument(
                        APPWRITE_CONFIG.databaseId,
                        APPWRITE_CONFIG.usersCollectionId,
                        userId
                    );
                    return profile;
                } catch (error) {
                    console.error('Error fetching user profile:', error);
                    return null;
                }
            };

            const updateUserProfile = async (userId, updateData) => {
                try {
                    const updatedProfile = await databases.updateDocument(
                        APPWRITE_CONFIG.databaseId,
                        APPWRITE_CONFIG.usersCollectionId,
                        userId,
                        updateData
                    );
                    return { success: true, profile: updatedProfile };
                } catch (error) {
                    console.error('Error updating user profile:', error);
                    return { success: false, error: error.message };
                }
            };

            const createPost = async (postData) => {
                try {
                    const post = await databases.createDocument(
                        APPWRITE_CONFIG.databaseId,
                        APPWRITE_CONFIG.postsCollectionId,
                        Appwrite.ID.unique(),
                        {
                            ...postData,
                            authorId: user.$id,
                            likes: 0,
                            comments: 0,
                            shares: 0,
                            views: 0,
                            createdAt: new Date().toISOString(),
                            updatedAt: new Date().toISOString(),
                            status: 'published'
                        }
                    );

                    // Update user posts count
                    const userProfile = await getUserProfile(user.$id);
                    if (userProfile) {
                        await updateUserProfile(user.$id, {
                            postsCount: (userProfile.postsCount || 0) + 1,
                            points: (userProfile.points || 0) + 10 // Give points for posting
                        });
                    }

                    return post;
                } catch (error) {
                    console.error('Error creating post:', error);
                    throw error;
                }
            };

            const getPosts = async () => {
                try {
                    const response = await databases.listDocuments(
                        APPWRITE_CONFIG.databaseId,
                        APPWRITE_CONFIG.postsCollectionId,
                        [
                            Appwrite.Query.orderDesc('$createdAt'),
                            Appwrite.Query.limit(50)
                        ]
                    );
                    return response.documents;
                } catch (error) {
                    console.error('Error fetching posts:', error);
                    return [];
                }
            };

            const likePost = async (postId, currentLikes) => {
                try {
                    await databases.updateDocument(
                        APPWRITE_CONFIG.databaseId,
                        APPWRITE_CONFIG.postsCollectionId,
                        postId,
                        { likes: currentLikes + 1 }
                    );
                } catch (error) {
                    console.error('Error liking post:', error);
                }
            };

            return React.createElement(AppwriteContext.Provider, {
                value: {
                    user,
                    isAuthenticated,
                    isLoading,
                    signIn,
                    signUp,
                    signOut,
                    getUserProfile,
                    updateUserProfile,
                    createPost,
                    getPosts,
                    likePost
                }
            }, children);
        }

        function useAppwrite() {
            const context = useContext(AppwriteContext);
            if (context === undefined) {
                throw new Error('useAppwrite must be used within an AppwriteProvider');
            }
            return context;
        }

        // Enhanced Theme System
        const regularThemes = [
            {
                id: "indigo",
                name: "Indigo Dream",
                gradient: "from-indigo-600 via-purple-600 to-pink-500",
                primary: "#4f46e5",
                secondary: "#7c3aed",
                accent: "#ec4899",
                background: "#f8fafc",
                text: "#1f2937",
                icon: "ðŸ”®",
            },
            {
                id: "ocean",
                name: "Ocean Breeze",
                gradient: "from-blue-500 via-cyan-500 to-teal-500",
                primary: "#3b82f6",
                secondary: "#06b6d4",
                accent: "#14b8a6",
                background: "#f0f9ff",
                text: "#0f172a",
                icon: "ðŸŒŠ",
            },
            {
                id: "sunset",
                name: "Sunset Glow",
                gradient: "from-orange-500 via-red-500 to-pink-500",
                primary: "#f97316",
                secondary: "#ef4444",
                accent: "#ec4899",
                background: "#fff7ed",
                text: "#1c1917",
                icon: "ðŸŒ…",
            },
            {
                id: "forest",
                name: "Forest Green",
                gradient: "from-green-600 via-emerald-600 to-teal-600",
                primary: "#16a34a",
                secondary: "#059669",
                accent: "#0d9488",
                background: "#f0fdf4",
                text: "#14532d",
                icon: "ðŸŒ²",
            },
        ];

        const neonThemes = [
            {
                id: "neon-cyber",
                name: "Cyber Punk",
                gradient: "from-cyan-400 via-purple-500 to-pink-500",
                primary: "#00ffff",
                secondary: "#ff00ff",
                accent: "#ffff00",
                background: "#0a0a0a",
                text: "#ffffff",
                icon: "âš¡",
                isNeon: true,
                glowColor: "#00ffff",
                shadowColor: "#ff00ff",
            },
            {
                id: "neon-electric",
                name: "Electric Blue",
                gradient: "from-blue-400 via-cyan-300 to-teal-400",
                primary: "#0080ff",
                secondary: "#00d4ff",
                accent: "#80ffff",
                background: "#0d1117",
                text: "#e6ffff",
                icon: "ðŸ’«",
                isNeon: true,
                glowColor: "#0080ff",
                shadowColor: "#00d4ff",
            },
            {
                id: "neon-toxic",
                name: "Toxic Green",
                gradient: "from-green-400 via-lime-400 to-yellow-400",
                primary: "#00ff41",
                secondary: "#39ff14",
                accent: "#ccff00",
                background: "#0a0f0a",
                text: "#e6ffe6",
                icon: "â˜¢ï¸",
                isNeon: true,
                glowColor: "#00ff41",
                shadowColor: "#39ff14",
            },
            {
                id: "neon-plasma",
                name: "Plasma Pink",
                gradient: "from-pink-400 via-rose-400 to-red-400",
                primary: "#ff1493",
                secondary: "#ff69b4",
                accent: "#ff6347",
                background: "#0f0a0d",
                text: "#ffe6f0",
                icon: "ðŸŒ¸",
                isNeon: true,
                glowColor: "#ff1493",
                shadowColor: "#ff69b4",
            },
        ];

        const allThemes = [...regularThemes, ...neonThemes];

        const ThemeContext = createContext();

        function ThemeProvider({ children }) {
            const [currentTheme, setCurrentTheme] = useState(regularThemes[0]);
            const [previousTheme, setPreviousTheme] = useState(null);
            const [isNeonMode, setIsNeonMode] = useState(false);
            const [isTransitioning, setIsTransitioning] = useState(false);
            const [transitionType, setTransitionType] = useState("regular-to-regular");

            useEffect(() => {
                const root = document.documentElement;
                root.style.setProperty("--theme-primary", currentTheme.primary);
                root.style.setProperty("--theme-secondary", currentTheme.secondary);
                root.style.setProperty("--theme-accent", currentTheme.accent);
                root.style.setProperty("--theme-background", currentTheme.background);
                root.style.setProperty("--theme-text", currentTheme.text);

                if (currentTheme.isNeon) {
                    root.style.setProperty("--theme-glow", currentTheme.glowColor || currentTheme.primary);
                    root.style.setProperty("--theme-shadow", currentTheme.shadowColor || currentTheme.secondary);
                    root.classList.add("neon-mode");
                    document.body.className = "neon-animated-background";
                } else {
                    root.classList.remove("neon-mode");
                    document.body.className = "animated-background";
                }
            }, [currentTheme]);

            const setTheme = (themeId) => {
                const theme = allThemes.find((t) => t.id === themeId);
                if (theme && theme.id !== currentTheme.id) {
                    setPreviousTheme(currentTheme);
                    let newTransitionType = "regular-to-regular";

                    if (!currentTheme.isNeon && theme.isNeon) {
                        newTransitionType = "regular-to-neon";
                    } else if (currentTheme.isNeon && !theme.isNeon) {
                        newTransitionType = "neon-to-regular";
                    } else if (currentTheme.isNeon && theme.isNeon) {
                        newTransitionType = "neon-to-neon";
                    }

                    setTransitionType(newTransitionType);
                    setIsTransitioning(true);
                    setCurrentTheme(theme);
                    setIsNeonMode(theme.isNeon || false);

                    setTimeout(() => {
                        setIsTransitioning(false);
                    }, 1500);
                }
            };

            const toggleNeonMode = () => {
                const newNeonMode = !isNeonMode;
                setIsNeonMode(newNeonMode);
                setPreviousTheme(currentTheme);
                const newTransitionType = newNeonMode ? "regular-to-neon" : "neon-to-regular";
                setTransitionType(newTransitionType);
                setIsTransitioning(true);

                if (newNeonMode && !currentTheme.isNeon) {
                    setCurrentTheme(neonThemes[0]);
                } else if (!newNeonMode && currentTheme.isNeon) {
                    setCurrentTheme(regularThemes[0]);
                }

                setTimeout(() => {
                    setIsTransitioning(false);
                }, 1500);
            };

            return React.createElement(ThemeContext.Provider, {
                value: {
                    currentTheme,
                    previousTheme,
                    setTheme,
                    themes: allThemes,
                    isNeonMode,
                    toggleNeonMode,
                    isTransitioning,
                    transitionType,
                }
            }, children);
        }

        function useTheme() {
            const context = useContext(ThemeContext);
            if (context === undefined) {
                throw new Error("useTheme must be used within a ThemeProvider");
            }
            return context;
        }

        // Sound Visualizer Component
        function SoundVisualizer() {
            const { isPlaying } = useSound();
            const { isNeonMode } = useTheme();

            if (!isPlaying) return null;

            return React.createElement("div", { className: "sound-visualizer" },
                Array.from({ length: 7 }).map((_, index) =>
                    React.createElement("div", {
                        key: index,
                        className: "sound-bar"
                    })
                )
            );
        }

        // Music Control Component
        function MusicControls() {
            const { isPlaying, volume, currentTrack, tracks, toggleMusic, changeVolume, nextTrack, prevTrack } = useSound();
            const { isNeonMode } = useTheme();
            const [showControls, setShowControls] = useState(false);

            return React.createElement("div", { className: "fixed bottom-4 left-4 z-50" }, [
                React.createElement("button", {
                    key: "toggle-controls",
                    onClick: () => setShowControls(!showControls),
                    className: `p-3 rounded-full backdrop-blur-sm transition-all duration-300 hover:scale-110 ${isNeonMode ? "bg-gray-900 bg-opacity-80 text-cyan-400 neon-button-glow" : "bg-white bg-opacity-90 text-gray-700 shadow-lg"}`
                }, isPlaying ? "ðŸŽµ" : "ðŸ”‡"),

                showControls && React.createElement("div", {
                    key: "controls-panel",
                    className: `absolute bottom-full left-0 mb-2 p-4 rounded-2xl backdrop-blur-sm shadow-lg animate-in slide-in-from-bottom-4 min-w-64 ${isNeonMode ? "bg-gray-900 bg-opacity-95 border border-cyan-400 neon-card-glow" : "bg-white bg-opacity-95 border border-gray-200"}`
                }, [
                    React.createElement("div", { key: "current-track", className: `text-sm font-medium mb-3 ${isNeonMode ? "text-white" : "text-gray-900"}` },
                        `Now Playing: ${tracks[currentTrack]?.name || 'No Track'}`
                    ),
                    
                    React.createElement("div", { key: "playback-controls", className: "flex items-center justify-center gap-4 mb-4" }, [
                        React.createElement("button", {
                            key: "prev",
                            onClick: prevTrack,
                            className: `p-2 rounded-lg transition-all duration-300 hover:scale-110 ${isNeonMode ? "text-cyan-400 hover:bg-gray-800" : "text-gray-600 hover:bg-gray-100"}`
                        }, "â®ï¸"),
                        React.createElement("button", {
                            key: "play-pause",
                            onClick: toggleMusic,
                            className: `p-3 rounded-lg transition-all duration-300 hover:scale-110 ${isNeonMode ? "text-cyan-400 bg-gray-800 hover:bg-gray-700" : "text-gray-700 bg-gray-100 hover:bg-gray-200"}`
                        }, isPlaying ? "â¸ï¸" : "â–¶ï¸"),
                        React.createElement("button", {
                            key: "next",
                            onClick: nextTrack,
                            className: `p-2 rounded-lg transition-all duration-300 hover:scale-110 ${isNeonMode ? "text-cyan-400 hover:bg-gray-800" : "text-gray-600 hover:bg-gray-100"}`
                        }, "â­ï¸")
                    ]),

                    React.createElement("div", { key: "volume-control", className: "flex items-center gap-3" }, [
                        React.createElement("span", {
                            key: "volume-icon",
                            className: `text-sm ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                        }, "ðŸ”Š"),
                        React.createElement("input", {
                            key: "volume-slider",
                            type: "range",
                            min: "0",
                            max: "1",
                            step: "0.1",
                            value: volume,
                            onChange: (e) => changeVolume(parseFloat(e.target.value)),
                            className: "flex-1 h-2 rounded-lg appearance-none bg-gray-300 outline-none slider"
                        }),
                        React.createElement("span", {
                            key: "volume-value",
                            className: `text-xs ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                        }, Math.round(volume * 100) + "%")
                    ])
                ])
            ]);
        }

        // Enhanced Components
        function HolographicCard({ children, className = "", intensity = "medium", onClick, disabled = false }) {
            const { isNeonMode } = useTheme();
            const [isHovered, setIsHovered] = useState(false);
            const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });
            const cardRef = useRef(null);

            const handleMouseMove = (e) => {
                if (!cardRef.current || !isNeonMode) return;
                const rect = cardRef.current.getBoundingClientRect();
                const x = ((e.clientX - rect.left) / rect.width) * 100;
                const y = ((e.clientY - rect.top) / rect.height) * 100;
                setMousePosition({ x, y });
            };

            const getIntensityClass = () => {
                if (!isNeonMode) return "";
                switch (intensity) {
                    case "low": return "holographic-low";
                    case "high": return "holographic-high";
                    default: return "holographic-medium";
                }
            };

            return React.createElement("div", {
                ref: cardRef,
                className: `relative overflow-hidden transition-all duration-300 ${isNeonMode ? `holographic-card ${getIntensityClass()}` : ""} ${isHovered && isNeonMode ? "holographic-active" : ""} ${disabled ? "opacity-50 cursor-not-allowed" : onClick ? "cursor-pointer" : ""} ${className}`,
                onMouseEnter: () => setIsHovered(true),
                onMouseLeave: () => setIsHovered(false),
                onMouseMove: handleMouseMove,
                onClick: disabled ? undefined : onClick,
                style: {
                    "--mouse-x": `${mousePosition.x}%`,
                    "--mouse-y": `${mousePosition.y}%`,
                }
            }, [
                isNeonMode && React.createElement(React.Fragment, { key: "effects" }, [
                    React.createElement("div", { key: "base", className: "absolute inset-0 holographic-base opacity-0 transition-opacity duration-300" }),
                    React.createElement("div", { key: "shimmer", className: "absolute inset-0 holographic-shimmer opacity-0 transition-opacity duration-300" }),
                    React.createElement("div", { key: "rainbow", className: "absolute inset-0 holographic-rainbow opacity-0 transition-opacity duration-500" }),
                    React.createElement("div", {
                        key: "spotlight",
                        className: "absolute inset-0 holographic-spotlight opacity-0 transition-opacity duration-300",
                        style: {
                            background: `radial-gradient(circle at var(--mouse-x) var(--mouse-y), rgba(255,255,255,0.1) 0%, transparent 50%)`,
                        }
                    }),
                    React.createElement("div", { key: "prism", className: "absolute inset-0 holographic-prism opacity-0 transition-opacity duration-300" })
                ]),
                React.createElement("div", { className: "relative z-10" }, children)
            ]);
        }

        function HolographicButton({ variant = "primary", size = "md", intensity = "medium", className = "", children, disabled = false, onClick, type = "button", ...props }) {
            const { currentTheme, isNeonMode } = useTheme();
            const [isHovered, setIsHovered] = useState(false);
            const [isPressed, setIsPressed] = useState(false);
            const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });
            const buttonRef = useRef(null);

            const handleMouseMove = (e) => {
                if (!buttonRef.current || !isNeonMode) return;
                const rect = buttonRef.current.getBoundingClientRect();
                const x = ((e.clientX - rect.left) / rect.width) * 100;
                const y = ((e.clientY - rect.top) / rect.height) * 100;
                setMousePosition({ x, y });
            };

            const sizeClasses = {
                sm: "px-3 py-1.5 text-sm",
                md: "px-4 py-2 text-base",
                lg: "px-6 py-3 text-lg",
            };

            const getVariantClasses = () => {
                if (!isNeonMode) {
                    switch (variant) {
                        case "primary": return `text-white shadow-lg hover:shadow-xl`;
                        case "secondary": return `text-white bg-opacity-80 hover:bg-opacity-100`;
                        case "outline": return `bg-transparent border-2 hover:bg-opacity-10`;
                        case "ghost": return `bg-transparent hover:bg-opacity-10`;
                        default: return "";
                    }
                } else {
                    switch (variant) {
                        case "primary": return `text-white holographic-button-primary`;
                        case "secondary": return `text-white holographic-button-secondary`;
                        case "outline": return `bg-transparent border-2 holographic-button-outline`;
                        case "ghost": return `bg-transparent holographic-button-ghost`;
                        default: return "";
                    }
                }
            };

            const getIntensityClass = () => {
                if (!isNeonMode) return "";
                switch (intensity) {
                    case "low": return "holographic-btn-low";
                    case "high": return "holographic-btn-high";
                    default: return "holographic-btn-medium";
                }
            };

            return React.createElement("button", {
                ref: buttonRef,
                type: type,
                className: `relative overflow-hidden rounded-xl font-semibold transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed ${sizeClasses[size]} ${getVariantClasses()} ${isNeonMode ? `holographic-button ${getIntensityClass()}` : ""} ${isHovered && isNeonMode ? "holographic-btn-active" : ""} ${isPressed && isNeonMode ? "holographic-btn-pressed" : ""} ${className}`,
                style: {
                    backgroundColor: !isNeonMode && variant !== "outline" && variant !== "ghost" ? currentTheme.primary : undefined,
                    borderColor: variant === "outline" ? currentTheme.primary : "transparent",
                    color: !isNeonMode && variant === "outline" ? currentTheme.primary : undefined,
                    "--mouse-x": `${mousePosition.x}%`,
                    "--mouse-y": `${mousePosition.y}%`,
                },
                onMouseEnter: () => setIsHovered(true),
                onMouseLeave: () => setIsHovered(false),
                onMouseDown: () => setIsPressed(true),
                onMouseUp: () => setIsPressed(false),
                onMouseMove: handleMouseMove,
                disabled: disabled,
                onClick: onClick,
                ...props
            }, [
                isNeonMode && React.createElement(React.Fragment, { key: "btn-effects" }, [
                    React.createElement("div", { key: "btn-base", className: "absolute inset-0 holographic-btn-base opacity-0 transition-opacity duration-300" }),
                    React.createElement("div", { key: "btn-shimmer", className: "absolute inset-0 holographic-btn-shimmer opacity-0 transition-opacity duration-300" }),
                    React.createElement("div", { key: "btn-rainbow", className: "absolute inset-0 holographic-btn-rainbow opacity-0 transition-opacity duration-500" }),
                    React.createElement("div", {
                        key: "btn-spotlight",
                        className: "absolute inset-0 holographic-btn-spotlight opacity-0 transition-opacity duration-200",
                        style: {
                            background: `radial-gradient(circle at var(--mouse-x) var(--mouse-y), rgba(255,255,255,0.2) 0%, transparent 60%)`,
                        }
                    }),
                    React.createElement("div", { key: "btn-prism", className: "absolute inset-0 holographic-btn-prism opacity-0 transition-opacity duration-300" }),
                    React.createElement("div", { key: "btn-pulse", className: "absolute inset-0 holographic-btn-pulse opacity-0 transition-opacity duration-300" })
                ]),
                React.createElement("span", { className: "relative z-10" }, children)
            ]);
        }

        // Enhanced Search Bar Component
        function SearchBar({ searchQuery, setSearchQuery, suggestions = [], onSuggestionSelect, placeholder = "Search events..." }) {
            const { isNeonMode } = useTheme();
            const [showSuggestions, setShowSuggestions] = useState(false);
            const [isSearching, setIsSearching] = useState(false);
            const searchRef = useRef(null);
            const suggestionsRef = useRef(null);

            useEffect(() => {
                const handleClickOutside = (event) => {
                    if (searchRef.current && !searchRef.current.contains(event.target)) {
                        setShowSuggestions(false);
                    }
                };

                document.addEventListener('mousedown', handleClickOutside);
                return () => document.removeEventListener('mousedown', handleClickOutside);
            }, []);

            const handleInputChange = (e) => {
                const value = e.target.value;
                setSearchQuery(value);
                setShowSuggestions(value.length > 0 && suggestions.length > 0);
                
                // Simulate search delay
                setIsSearching(true);
                setTimeout(() => setIsSearching(false), 300);
            };

            const handleSuggestionClick = (suggestion) => {
                setSearchQuery(suggestion);
                setShowSuggestions(false);
                if (onSuggestionSelect) {
                    onSuggestionSelect(suggestion);
                }
            };

            const clearSearch = () => {
                setSearchQuery('');
                setShowSuggestions(false);
                if (searchRef.current?.querySelector('input')) {
                    searchRef.current.querySelector('input').focus();
                }
            };

            const highlightText = (text, query) => {
                if (!query) return text;
                const regex = new RegExp(`(${query})`, 'gi');
                const parts = text.split(regex);
                
                return parts.map((part, index) => 
                    regex.test(part) 
                        ? React.createElement('span', { key: index, className: 'search-highlight' }, part)
                        : part
                );
            };

            return React.createElement("div", { ref: searchRef, className: "search-container relative" }, [
                React.createElement("div", { key: "search-input", className: "relative" }, [
                    React.createElement("div", {
                        key: "search-icon",
                        className: `absolute left-3 top-1/2 transform -translate-y-1/2 transition-all duration-300 ${isSearching ? 'animate-spin' : ''}`
                    }, isSearching ? "â³" : "ðŸ”"),
                    
                    React.createElement("input", {
                        key: "input",
                        type: "text",
                        value: searchQuery,
                        onChange: handleInputChange,
                        onFocus: () => setShowSuggestions(searchQuery.length > 0 && suggestions.length > 0),
                        placeholder: placeholder,
                        className: `w-full pl-12 pr-12 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-2 ${isNeonMode ? "bg-gray-800 border-gray-600 text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-cyan-200 neon-search-glow" : "bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:ring-indigo-200"}`
                    }),
                    
                    searchQuery && React.createElement("button", {
                        key: "clear-btn",
                        onClick: clearSearch,
                        className: `absolute right-3 top-1/2 transform -translate-y-1/2 transition-all duration-300 hover:scale-110 ${isNeonMode ? "text-gray-400 hover:text-white" : "text-gray-500 hover:text-gray-700"}`
                    }, "âŒ")
                ]),

                // Search Suggestions
                showSuggestions && suggestions.length > 0 && React.createElement("div", {
                    key: "suggestions",
                    ref: suggestionsRef,
                    className: `search-suggestions backdrop-blur-sm border shadow-lg ${isNeonMode ? "bg-gray-900 bg-opacity-95 border-cyan-400 neon-border-glow" : "bg-white border-gray-200"}`
                }, suggestions.slice(0, 8).map((suggestion, index) => 
                    React.createElement("div", {
                        key: index,
                        onClick: () => handleSuggestionClick(suggestion),
                        className: `search-suggestion-item px-4 py-3 border-b last:border-b-0 ${isNeonMode ? "border-gray-700 hover:bg-gray-800 text-white" : "border-gray-100 hover:bg-gray-50 text-gray-900"}`
                    }, [
                        React.createElement("div", { key: "suggestion-text", className: "flex items-center gap-3" }, [
                            React.createElement("span", { key: "suggestion-icon", className: "text-sm opacity-70" }, "ðŸ”"),
                            React.createElement("span", { key: "suggestion-content" }, highlightText(suggestion, searchQuery))
                        ])
                    ])
                ))
            ]);
        }

        // Enhanced Location Status Component
        function LocationStatus() {
            const { userLocation, locationError, isLoadingLocation, locationPermission, getCurrentLocation } = useLocation();
            const { isNeonMode } = useTheme();

            if (isLoadingLocation) {
                return React.createElement("div", {
                    className: `location-status loading ${isNeonMode ? "text-cyan-400" : "text-blue-600"}`
                }, [
                    React.createElement("span", { key: "icon" }, "ðŸ“"),
                    React.createElement("span", { key: "text" }, "Getting your location...")
                ]);
            }

            if (locationError) {
                return React.createElement("div", { className: "location-status error" }, [
                    React.createElement("span", { key: "icon" }, "âŒ"),
                    React.createElement("span", { key: "text" }, locationError),
                    React.createElement(HolographicButton, {
                        key: "retry",
                        variant: "ghost",
                        size: "sm",
                        onClick: getCurrentLocation,
                        className: "ml-2"
                    }, "Retry")
                ]);
            }

            if (userLocation) {
                return React.createElement("div", { className: "location-status success" }, [
                    React.createElement("span", { key: "icon" }, "âœ…"),
                    React.createElement("span", { key: "text" }, `${userLocation.city}, ${userLocation.country}`)
                ]);
            }

            return null;
        }

        function UserAvatar({ user, size = "md", showName = false, showUsername = false, clickable = true, className = "" }) {
            const sizeClasses = {
                sm: "w-8 h-8",
                md: "w-10 h-10",
                lg: "w-12 h-12",
                xl: "w-16 h-16",
            };

            const textSizes = {
                sm: "text-sm",
                md: "text-base",
                lg: "text-lg",
                xl: "text-xl",
            };

            const getInitials = (name) => {
                return name.split(" ").map((n) => n[0]).join("").toUpperCase().slice(0, 2);
            };

            const handleClick = () => {
                if (clickable) {
                    window.history.pushState({}, "", `#profile/${user.username}`);
                    window.dispatchEvent(new Event("hashchange"));
                }
            };

            const AvatarContent = () => React.createElement("div", { className: `flex items-center gap-3 ${className}` }, [
                React.createElement("div", { key: "avatar", className: "relative" }, [
                    React.createElement("div", {
                        key: "avatar-img",
                        className: `${sizeClasses[size]} rounded-full overflow-hidden bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-semibold ${textSizes[size]} shadow-lg`
                    }, user.avatar ?
                        React.createElement("img", { src: user.avatar, alt: user.name, className: "w-full h-full object-cover" }) :
                        getInitials(user.name)
                    ),
                    user.verified && React.createElement("div", { key: "verified", className: "absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1" },
                        React.createElement("span", { className: "text-white text-xs" }, "âœ“")
                    )
                ]),
                (showName || showUsername) && React.createElement("div", { key: "info", className: "flex flex-col" }, [
                    showName && React.createElement("span", { key: "name", className: `font-semibold text-gray-900 dark:text-white ${textSizes[size]}` }, user.name),
                    showUsername && React.createElement("span", { key: "username", className: "text-sm text-gray-500 dark:text-gray-400" }, `@${user.username}`)
                ])
            ]);

            if (clickable) {
                return React.createElement("button", {
                    onClick: handleClick,
                    className: "hover:opacity-80 transition-opacity cursor-pointer"
                }, React.createElement(AvatarContent));
            }

            return React.createElement(AvatarContent);
        }

        function LocationBadge({ location, distance, className = "" }) {
            const { isNeonMode } = useTheme();

            if (!location) return null;

            return React.createElement("div", {
                className: `inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium location-badge ${className}`
            }, [
                React.createElement("span", { key: "icon", className: "text-blue-500" }, "ðŸ“"),
                React.createElement("span", { key: "location" }, location),
                distance && React.createElement("span", { key: "distance", className: "text-gray-500" }, `â€¢ ${distance.toFixed(1)}km`)
            ]);
        }

        function PostCard({ post, author, userLocation, onLike }) {
            const { isNeonMode, currentTheme } = useTheme();
            const { calculateDistance } = useLocation();
            const [isLiked, setIsLiked] = useState(false);
            const [likeCount, setLikeCount] = useState(post.likes || 0);
            const [imageLoaded, setImageLoaded] = useState(false);

            const distance = userLocation && post.latitude && post.longitude
                ? calculateDistance(userLocation.latitude, userLocation.longitude, post.latitude, post.longitude)
                : null;

            const handleLike = async () => {
                if (isLiked) return;
                
                setIsLiked(true);
                setLikeCount(prev => prev + 1);
                
                try {
                    await onLike(post.$id, likeCount);
                } catch (error) {
                    setIsLiked(false);
                    setLikeCount(prev => prev - 1);
                    console.error('Error liking post:', error);
                }
            };

            return React.createElement(HolographicCard, {
                intensity: "medium",
                className: `post-card rounded-2xl border backdrop-blur-sm transition-all duration-500 animate-in scale-in ${isNeonMode ? "bg-gray-900 bg-opacity-95 border-cyan-400 neon-post-glow" : "bg-white bg-opacity-95 border-gray-200 shadow-lg"}`
            }, [
                // Post Image
                post.image && React.createElement("div", { key: "image", className: "relative overflow-hidden rounded-t-2xl" }, [
                    !imageLoaded && React.createElement("div", {
                        key: "skeleton",
                        className: `w-full h-48 skeleton rounded-t-2xl ${isNeonMode ? "bg-gray-800" : "bg-gray-200"}`
                    }),
                    React.createElement("img", {
                        key: "img",
                        src: post.image,
                        alt: post.name,
                        className: `w-full h-48 object-cover transition-opacity duration-300 ${imageLoaded ? "opacity-100" : "opacity-0"}`,
                        onLoad: () => setImageLoaded(true),
                        onError: () => setImageLoaded(true)
                    }),
                    React.createElement("div", {
                        key: "overlay",
                        className: "absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"
                    })
                ]),

                // Post Content
                React.createElement("div", { key: "content", className: "p-6" }, [
                    // Author Info
                    author && React.createElement("div", { key: "author", className: "flex items-center justify-between mb-4" }, [
                        React.createElement(UserAvatar, {
                            key: "avatar",
                            user: author,
                            size: "md",
                            showName: true,
                            showUsername: true,
                            clickable: true
                        }),
                        React.createElement("div", { key: "meta", className: "text-right" }, [
                            React.createElement("div", {
                                key: "time",
                                className: `text-sm ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                            }, new Date(post.createdAt).toLocaleDateString()),
                            post.category && React.createElement("div", {
                                key: "category",
                                className: `inline-block px-2 py-1 rounded-full text-xs font-medium mt-1 ${isNeonMode ? "bg-cyan-500 bg-opacity-20 text-cyan-400" : "bg-blue-100 text-blue-800"}`
                            }, post.category)
                        ])
                    ]),

                    // Post Title
                    React.createElement("h3", {
                        key: "title",
                        className: `text-xl font-bold mb-3 line-clamp-2 ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}`
                    }, post.name),

                    // Post Description
                    post.description && React.createElement("p", {
                        key: "description",
                        className: `mb-4 line-clamp-3 ${isNeonMode ? "text-gray-300" : "text-gray-600"}`
                    }, post.description),

                    // Location and Date Info
                    React.createElement("div", { key: "info", className: "space-y-2 mb-4" }, [
                        (post.date || post.time) && React.createElement("div", {
                            key: "datetime",
                            className: `flex items-center gap-2 text-sm ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                        }, [
                            React.createElement("span", { key: "icon" }, "ðŸ“…"),
                            React.createElement("span", { key: "text" }, `${post.date || ''} ${post.time ? `at ${post.time}` : ''}`.trim())
                        ]),
                        post.address && React.createElement("div", { key: "location-info", className: "flex items-center justify-between" }, [
                            React.createElement("div", {
                                key: "address",
                                className: `flex items-center gap-2 text-sm ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                            }, [
                                React.createElement("span", { key: "icon" }, "ðŸ“"),
                                React.createElement("span", { key: "text", className: "line-clamp-1" }, post.address)
                            ]),
                            distance && React.createElement(LocationBadge, {
                                key: "distance",
                                location: post.address.split(',')[0],
                                distance: distance
                            })
                        ])
                    ]),

                    // Actions
                    React.createElement("div", { key: "actions", className: "flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700" }, [
                        React.createElement("div", { key: "left-actions", className: "flex items-center gap-4" }, [
                            React.createElement(HolographicButton, {
                                key: "like",
                                variant: "ghost",
                                size: "sm",
                                onClick: handleLike,
                                disabled: isLiked,
                                className: `flex items-center gap-2 transition-all duration-300 ${isLiked ? "text-red-500" : ""}`
                            }, [
                                React.createElement("span", { key: "icon", className: isLiked ? "animate-pulse" : "" }, isLiked ? "â¤ï¸" : "ðŸ¤"),
                                React.createElement("span", { key: "count" }, likeCount)
                            ]),
                            React.createElement(HolographicButton, {
                                key: "comment",
                                variant: "ghost",
                                size: "sm",
                                className: "flex items-center gap-2"
                            }, [
                                React.createElement("span", { key: "icon" }, "ðŸ’¬"),
                                React.createElement("span", { key: "count" }, post.comments || 0)
                            ]),
                            React.createElement(HolographicButton, {
                                key: "share",
                                variant: "ghost",
                                size: "sm",
                                className: "flex items-center gap-2"
                            }, [
                                React.createElement("span", { key: "icon" }, "ðŸ“¤"),
                                React.createElement("span", { key: "text" }, "Share")
                            ])
                        ]),
                        distance && React.createElement("div", {
                            key: "distance-badge",
                            className: `text-xs px-2 py-1 rounded-full ${isNeonMode ? "bg-cyan-500 bg-opacity-20 text-cyan-400" : "bg-blue-100 text-blue-600"}`
                        }, `${distance.toFixed(1)}km away`)
                    ])
                ])
            ]);
        }

        function PostsGrid({ posts, userProfiles, userLocation, onLike }) {
            const { isNeonMode } = useTheme();

            if (posts.length === 0) {
                return React.createElement("div", { className: "text-center py-16" }, [
                    React.createElement("div", { key: "icon", className: "text-6xl mb-4 animate-bounce" }, "ðŸ“"),
                    React.createElement("h3", { key: "heading", className: `text-xl font-semibold mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "No Posts Found"),
                    React.createElement("p", { key: "description", className: `${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, "Try adjusting your search or filters to find more events!")
                ]);
            }

            return React.createElement("div", { className: "posts-grid" },
                posts.map((post, index) => {
                    const author = userProfiles[post.authorId];
                    return React.createElement(PostCard, {
                        key: post.$id,
                        post: post,
                        author: author,
                        userLocation: userLocation,
                        onLike: onLike,
                        style: { animationDelay: `${index * 0.1}s` }
                    });
                })
            );
        }

        // Enhanced PostsList with search functionality
        function PostsList() {
            const { getPosts, likePost, getUserProfile } = useAppwrite();
            const { userLocation, getEventsInRadius, calculateDistance } = useLocation();
            const { isNeonMode } = useTheme();
            const [posts, setPosts] = useState([]);
            const [loading, setLoading] = useState(true);
            const [userProfiles, setUserProfiles] = useState({});
            const [searchQuery, setSearchQuery] = useState('');
            const [locationFilter, setLocationFilter] = useState('all');
            const [radiusFilter, setRadiusFilter] = useState(10);
            const [sortBy, setSortBy] = useState('recent');
            const [searchSuggestions, setSearchSuggestions] = useState([]);

            useEffect(() => {
                loadPosts();
            }, []);

            useEffect(() => {
                generateSearchSuggestions();
            }, [posts, searchQuery]);

            const loadPosts = async () => {
                try {
                    const fetchedPosts = await getPosts();
                    setPosts(fetchedPosts);

                    // Fetch user profiles for post authors
                    const profilePromises = fetchedPosts.map(async (post) => {
                        if (post.authorId && !userProfiles[post.authorId]) {
                            const profile = await getUserProfile(post.authorId);
                            return { [post.authorId]: profile };
                        }
                        return null;
                    });

                    const profiles = await Promise.all(profilePromises);
                    const profilesMap = profiles.reduce((acc, profile) => {
                        if (profile) {
                            return { ...acc, ...profile };
                        }
                        return acc;
                    }, {});

                    setUserProfiles(prev => ({ ...prev, ...profilesMap }));
                } catch (error) {
                    console.error('Error loading posts:', error);
                } finally {
                    setLoading(false);
                }
            };

            const handleLike = async (postId, currentLikes) => {
                try {
                    await likePost(postId, currentLikes);
                    setPosts(prev =>
                        prev.map(post =>
                            post.$id === postId
                                ? { ...post, likes: currentLikes + 1 }
                                : post
                        )
                    );
                } catch (error) {
                    console.error('Error liking post:', error);
                }
            };

            // Generate search suggestions based on posts
            const generateSearchSuggestions = () => {
                if (!searchQuery || searchQuery.length < 2) {
                    setSearchSuggestions([]);
                    return;
                }

                const suggestions = new Set();
                const query = searchQuery.toLowerCase();

                posts.forEach(post => {
                    // Add matching titles
                    if (post.name && post.name.toLowerCase().includes(query)) {
                        suggestions.add(post.name);
                    }

                    // Add matching categories
                    if (post.category && post.category.toLowerCase().includes(query)) {
                        suggestions.add(post.category);
                    }

                    // Add matching locations
                    if (post.address && post.address.toLowerCase().includes(query)) {
                        const locationParts = post.address.split(',');
                        locationParts.forEach(part => {
                            const trimmed = part.trim();
                            if (trimmed.toLowerCase().includes(query)) {
                                suggestions.add(trimmed);
                            }
                        });
                    }

                    // Add matching descriptions (first few words)
                    if (post.description && post.description.toLowerCase().includes(query)) {
                        const words = post.description.split(' ').slice(0, 5).join(' ');
                        if (words.toLowerCase().includes(query)) {
                            suggestions.add(words + '...');
                        }
                    }
                });

                setSearchSuggestions(Array.from(suggestions).slice(0, 8));
            };

            // Enhanced search and filter logic
            const filteredAndSortedPosts = React.useMemo(() => {
                let filtered = [...posts];

                // Search filtering
                if (searchQuery.trim()) {
                    const query = searchQuery.toLowerCase().trim();
                    filtered = filtered.filter(post => {
                        const titleMatch = post.name && post.name.toLowerCase().includes(query);
                        const descriptionMatch = post.description && post.description.toLowerCase().includes(query);
                        const categoryMatch = post.category && post.category.toLowerCase().includes(query);
                        const locationMatch = post.address && post.address.toLowerCase().includes(query);
                        
                        return titleMatch || descriptionMatch || categoryMatch || locationMatch;
                    });
                }

                // Enhanced location filtering
                if (locationFilter === 'nearby' && userLocation) {
                    filtered = getEventsInRadius(filtered, radiusFilter);
                } else if (locationFilter === 'city' && userLocation) {
                    filtered = filtered.filter(post => 
                        post.locationCity === userLocation.city || 
                        (post.address && post.address.toLowerCase().includes(userLocation.city.toLowerCase()))
                    );
                } else if (locationFilter === 'region' && userLocation) {
                    filtered = filtered.filter(post => 
                        post.address && post.address.toLowerCase().includes(userLocation.region.toLowerCase())
                    );
                }

                // Sorting
                filtered.sort((a, b) => {
                    switch (sortBy) {
                        case 'popular':
                            return (b.likes || 0) - (a.likes || 0);
                        case 'distance':
                            if (!userLocation) return 0;
                            const distanceA = a.latitude && a.longitude ? 
                                calculateDistance(userLocation.latitude, userLocation.longitude, a.latitude, a.longitude) : 
                                Infinity;
                            const distanceB = b.latitude && b.longitude ? 
                                calculateDistance(userLocation.latitude, userLocation.longitude, b.latitude, b.longitude) : 
                                Infinity;
                            return distanceA - distanceB;
                        case 'recent':
                        default:
                            return new Date(b.createdAt) - new Date(a.createdAt);
                    }
                });

                return filtered;
            }, [posts, searchQuery, locationFilter, radiusFilter, sortBy, userLocation, getEventsInRadius, calculateDistance]);

            if (loading) {
                return React.createElement("div", { className: "p-6" }, [
                    React.createElement("div", { key: "skeleton-grid", className: "posts-grid" },
                        Array.from({ length: 6 }).map((_, index) =>
                            React.createElement("div", {
                                key: index,
                                className: "rounded-2xl border bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 p-6"
                            }, [
                                React.createElement("div", { key: "img-skeleton", className: "w-full h-48 skeleton rounded-lg mb-4" }),
                                React.createElement("div", { key: "title-skeleton", className: "h-6 skeleton rounded mb-2" }),
                                React.createElement("div", { key: "desc-skeleton", className: "h-4 skeleton rounded mb-4 w-3/4" }),
                                React.createElement("div", { key: "meta-skeleton", className: "h-4 skeleton rounded w-1/2" })
                            ])
                        )
                    )
                ]);
            }

            return React.createElement("div", { className: "space-y-6" }, [
                // Enhanced Search and Filter Header
                React.createElement("div", { key: "search-header", className: "p-6 pb-0" }, [
                    React.createElement("div", { key: "location-status", className: "mb-4" },
                        React.createElement(LocationStatus)
                    ),
                    
                    // Main Search Bar
                    React.createElement("div", { key: "search-section", className: "mb-6" }, [
                        React.createElement("h2", { 
                            key: "search-title",
                            className: `text-2xl font-bold mb-3 ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}`
                        }, "ðŸ” Search Events"),
                        React.createElement(SearchBar, {
                            key: "search-bar",
                            searchQuery: searchQuery,
                            setSearchQuery: setSearchQuery,
                            suggestions: searchSuggestions,
                            placeholder: "Search by title, location, category, or description..."
                        })
                    ]),
                    
                    // Enhanced Filters and Controls
                    React.createElement("div", { key: "controls", className: "flex flex-wrap items-center justify-between gap-4" }, [
                        React.createElement("div", { key: "filters", className: "flex flex-wrap items-center gap-4" }, [
                            React.createElement("div", { key: "location-filter", className: "flex items-center gap-2" }, [
                                React.createElement("label", { className: `text-sm font-medium ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Location:"),
                                React.createElement("select", {
                                    value: locationFilter,
                                    onChange: (e) => setLocationFilter(e.target.value),
                                    className: `px-3 py-1 rounded-lg border transition-all duration-300 ${isNeonMode ? "bg-gray-800 border-gray-600 text-white focus:border-cyan-400" : "bg-white border-gray-300 text-gray-900 focus:border-indigo-500"}`
                                }, [
                                    React.createElement("option", { key: "all", value: "all" }, "All Posts"),
                                    React.createElement("option", { key: "nearby", value: "nearby" }, `Nearby (${radiusFilter}km)`),
                                    userLocation && React.createElement("option", { key: "city", value: "city" }, `${userLocation.city} Only`),
                                    userLocation && React.createElement("option", { key: "region", value: "region" }, `${userLocation.region} Region`)
                                ])
                            ]),

                            // Radius Filter (only show when nearby is selected)
                            locationFilter === 'nearby' && React.createElement("div", { key: "radius-filter", className: "flex items-center gap-2" }, [
                                React.createElement("label", { className: `text-sm font-medium ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Radius:"),
                                React.createElement("select", {
                                    value: radiusFilter,
                                    onChange: (e) => setRadiusFilter(Number(e.target.value)),
                                    className: `px-3 py-1 rounded-lg border transition-all duration-300 ${isNeonMode ? "bg-gray-800 border-gray-600 text-white focus:border-cyan-400" : "bg-white border-gray-300 text-gray-900 focus:border-indigo-500"}`
                                }, [
                                    React.createElement("option", { key: "1", value: "1" }, "1km"),
                                    React.createElement("option", { key: "5", value: "5" }, "5km"),
                                    React.createElement("option", { key: "10", value: "10" }, "10km"),
                                    React.createElement("option", { key: "25", value: "25" }, "25km"),
                                    React.createElement("option", { key: "50", value: "50" }, "50km")
                                ])
                            ]),

                            React.createElement("div", { key: "sort-filter", className: "flex items-center gap-2" }, [
                                React.createElement("label", { className: `text-sm font-medium ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Sort by:"),
                                React.createElement("select", {
                                    value: sortBy,
                                    onChange: (e) => setSortBy(e.target.value),
                                    className: `px-3 py-1 rounded-lg border transition-all duration-300 ${isNeonMode ? "bg-gray-800 border-gray-600 text-white focus:border-cyan-400" : "bg-white border-gray-300 text-gray-900 focus:border-indigo-500"}`
                                }, [
                                    React.createElement("option", { key: "recent", value: "recent" }, "Most Recent"),
                                    React.createElement("option", { key: "popular", value: "popular" }, "Most Popular"),
                                    userLocation && React.createElement("option", { key: "distance", value: "distance" }, "Nearest First")
                                ])
                            ])
                        ]),

                        React.createElement("div", { key: "stats", className: "flex items-center gap-4" }, [
                            React.createElement("div", {
                                key: "results-count",
                                className: `text-sm ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                            }, `Showing ${filteredAndSortedPosts.length} of ${posts.length} posts`),
                            
                            searchQuery && React.createElement(HolographicButton, {
                                key: "clear-search",
                                variant: "ghost",
                                size: "sm",
                                onClick: () => setSearchQuery(''),
                                className: "flex items-center gap-2"
                            }, [
                                React.createElement("span", { key: "icon" }, "ðŸ—‘ï¸"),
                                React.createElement("span", { key: "text" }, "Clear Search")
                            ])
                        ])
                    ]),

                    // Search results summary
                    searchQuery && React.createElement("div", { key: "search-summary", className: "mt-4 p-3 rounded-lg border-l-4 border-indigo-400 bg-indigo-50 dark:bg-indigo-900 dark:bg-opacity-30" },
                        React.createElement("p", { className: `text-sm ${isNeonMode ? "text-indigo-300" : "text-indigo-800"}` }, [
                            React.createElement("span", { key: "text" }, `Search results for: "`),
                            React.createElement("strong", { key: "query" }, searchQuery),
                            React.createElement("span", { key: "text2" }, `" - ${filteredAndSortedPosts.length} event${filteredAndSortedPosts.length === 1 ? '' : 's'} found`)
                        ])
                    )
                ]),

                // Posts Grid
                React.createElement(PostsGrid, {
                    key: "posts-grid",
                    posts: filteredAndSortedPosts,
                    userProfiles: userProfiles,
                    userLocation: userLocation,
                    onLike: handleLike
                })
            ]);
        }

        // Enhanced Create Post Form with Fixed Errors
        function CreatePostForm() {
            const { createPost, user } = useAppwrite();
            const { userLocation } = useLocation();
            const { isNeonMode } = useTheme();
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [error, setError] = useState('');
            const [success, setSuccess] = useState(false);
            const [useCurrentLocation, setUseCurrentLocation] = useState(true);
            const [validationErrors, setValidationErrors] = useState({});
            const [formData, setFormData] = useState({
                name: '',
                description: '',
                image: '',
                date: '',
                time: '',
                address: '',
                category: 'event',
                subcategory: 'general'
            });

            // Form validation
            const validateForm = () => {
                const errors = {};
                
                if (!formData.name.trim()) {
                    errors.name = 'Title is required';
                } else if (formData.name.length < 3) {
                    errors.name = 'Title must be at least 3 characters';
                } else if (formData.name.length > 100) {
                    errors.name = 'Title must be less than 100 characters';
                }

                if (formData.description && formData.description.length > 500) {
                    errors.description = 'Description must be less than 500 characters';
                }

                if (formData.image && !isValidUrl(formData.image)) {
                    errors.image = 'Please enter a valid image URL';
                }

                if (formData.date) {
                    const selectedDate = new Date(formData.date);
                    const today = new Date();
                    today.setHours(0, 0, 0, 0);
                    
                    if (selectedDate < today) {
                        errors.date = 'Date cannot be in the past';
                    }
                }

                if (!useCurrentLocation && !formData.address.trim()) {
                    errors.address = 'Address is required when not using current location';
                } else if (formData.address && formData.address.length > 200) {
                    errors.address = 'Address must be less than 200 characters';
                }

                return errors;
            };

            const isValidUrl = (url) => {
                try {
                    new URL(url);
                    return true;
                } catch {
                    return false;
                }
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                setIsSubmitting(true);
                setError('');
                setValidationErrors({});

                // Validate form
                const errors = validateForm();
                if (Object.keys(errors).length > 0) {
                    setValidationErrors(errors);
                    setIsSubmitting(false);
                    setError('Please fix the errors below');
                    return;
                }

                try {
                    const postData = {
                        name: formData.name.trim(),
                        description: formData.description.trim(),
                        image: formData.image.trim(),
                        date: formData.date,
                        time: formData.time,
                        address: useCurrentLocation && userLocation ? userLocation.address : formData.address.trim(),
                        category: formData.category,
                        subcategory: formData.subcategory,
                        latitude: useCurrentLocation && userLocation ? userLocation.latitude : null,
                        longitude: useCurrentLocation && userLocation ? userLocation.longitude : null,
                        locationCity: useCurrentLocation && userLocation ? userLocation.city : null
                    };

                    await createPost(postData);
                    setSuccess(true);
                    
                    // Reset form
                    setFormData({
                        name: '',
                        description: '',
                        image: '',
                        date: '',
                        time: '',
                        address: '',
                        category: 'event',
                        subcategory: 'general'
                    });

                    setTimeout(() => setSuccess(false), 3000);
                } catch (err) {
                    setError('Failed to create post. Please try again.');
                    console.error(err);
                } finally {
                    setIsSubmitting(false);
                }
            };

            const handleInputChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
                
                // Clear specific field error when user starts typing
                if (validationErrors[field]) {
                    setValidationErrors(prev => {
                        const newErrors = { ...prev };
                        delete newErrors[field];
                        return newErrors;
                    });
                }
                
                if (error) setError('');
            };

            const getFieldClassName = (fieldName) => {
                const baseClass = `w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-2 ${isNeonMode ? "bg-gray-800 border-gray-600 text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-cyan-200" : "bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:ring-indigo-200"}`;
                
                if (validationErrors[fieldName]) {
                    return `${baseClass} form-field-invalid`;
                } else if (formData[fieldName] && !validationErrors[fieldName]) {
                    return `${baseClass} form-field-valid`;
                }
                
                return baseClass;
            };

            return React.createElement("div", { className: "p-6 max-w-4xl mx-auto" }, [
                React.createElement("div", { key: "header", className: "mb-8 text-center" }, [
                    React.createElement("h2", { key: "title", className: `text-3xl font-bold mb-2 ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}` }, "Create New Post"),
                    React.createElement("p", { key: "subtitle", className: `${isNeonMode ? "text-gray-400" : "text-gray-600"}` }, "Share events, announcements, or messages with your local community"),
                    userLocation && React.createElement(LocationBadge, {
                        key: "location",
                        location: userLocation.city,
                        className: "mt-3"
                    })
                ]),

                success && React.createElement("div", { key: "success", className: "mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-xl animate-in slide-in-from-top-2" },
                    "ðŸŽ‰ Post created successfully!"
                ),

                error && React.createElement("div", { key: "error", className: "mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl animate-in slide-in-from-top-2" },
                    error
                ),

                React.createElement(HolographicCard, {
                    key: "form-card",
                    intensity: "high",
                    className: `rounded-2xl border backdrop-blur-sm ${isNeonMode ? "bg-gray-900 bg-opacity-95 border-cyan-400 neon-card-glow" : "bg-white bg-opacity-95 border-gray-200 shadow-xl"}`
                }, React.createElement("form", { onSubmit: handleSubmit, className: "p-8 space-y-6", noValidate: true }, [
                    // Title
                    React.createElement("div", { key: "title-field", className: "animate-in slide-in-from-left-4" }, [
                        React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Title *"),
                        React.createElement("input", {
                            type: "text",
                            value: formData.name,
                            onChange: (e) => handleInputChange("name", e.target.value),
                            placeholder: "Enter an engaging title for your post",
                            className: getFieldClassName('name'),
                            required: true,
                            maxLength: 100
                        }),
                        validationErrors.name && React.createElement("p", { className: "text-red-500 text-xs mt-1" }, validationErrors.name),
                        React.createElement("div", { className: `text-xs mt-1 ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, 
                            `${formData.name.length}/100 characters`
                        )
                    ]),

                    // Description
                    React.createElement("div", { key: "description-field", className: "animate-in slide-in-from-right-4" }, [
                        React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Description"),
                        React.createElement("textarea", {
                            value: formData.description,
                            onChange: (e) => handleInputChange("description", e.target.value),
                            placeholder: "Describe your event, announcement, or message in detail",
                            rows: 4,
                            className: `${getFieldClassName('description')} resize-none`,
                            maxLength: 500
                        }),
                        validationErrors.description && React.createElement("p", { className: "text-red-500 text-xs mt-1" }, validationErrors.description),
                        React.createElement("div", { className: `text-xs mt-1 ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, 
                            `${formData.description.length}/500 characters`
                        )
                    ]),

                    // Image URL
                    React.createElement("div", { key: "image-field", className: "animate-in slide-in-from-left-4" }, [
                        React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Image URL"),
                        React.createElement("input", {
                            type: "url",
                            value: formData.image,
                            onChange: (e) => handleInputChange("image", e.target.value),
                            placeholder: "https://example.com/image.jpg",
                            className: getFieldClassName('image')
                        }),
                        validationErrors.image && React.createElement("p", { className: "text-red-500 text-xs mt-1" }, validationErrors.image),
                        formData.image && isValidUrl(formData.image) && React.createElement("div", { key: "image-preview", className: "mt-3" },
                            React.createElement("img", {
                                src: formData.image,
                                alt: "Preview",
                                className: "w-full h-48 object-cover rounded-lg",
                                onError: (e) => e.target.style.display = 'none',
                                onLoad: (e) => e.target.style.display = 'block'
                            })
                        )
                    ]),

                    // Date and Time
                    React.createElement("div", { key: "datetime-fields", className: "grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4" }, [
                        React.createElement("div", { key: "date" }, [
                            React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Date"),
                            React.createElement("input", {
                                type: "date",
                                value: formData.date,
                                onChange: (e) => handleInputChange("date", e.target.value),
                                min: new Date().toISOString().split('T')[0],
                                className: getFieldClassName('date')
                            }),
                            validationErrors.date && React.createElement("p", { className: "text-red-500 text-xs mt-1" }, validationErrors.date)
                        ]),
                        React.createElement("div", { key: "time" }, [
                            React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Time"),
                            React.createElement("input", {
                                type: "time",
                                value: formData.time,
                                onChange: (e) => handleInputChange("time", e.target.value),
                                className: getFieldClassName('time')
                            })
                        ])
                    ]),

                    // Location Settings
                    React.createElement("div", { key: "location-settings", className: "animate-in slide-in-from-right-4" }, [
                        React.createElement("div", { key: "location-toggle", className: "flex items-center justify-between mb-4" }, [
                            React.createElement("div", { key: "toggle-info" }, [
                                React.createElement("label", { className: `block text-sm font-medium ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Use Current Location"),
                                React.createElement("p", { className: `text-xs ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, "Automatically use your current location for this post")
                            ]),
                            React.createElement("button", {
                                key: "toggle-switch",
                                type: "button",
                                onClick: () => {
                                    setUseCurrentLocation(!useCurrentLocation);
                                    if (validationErrors.address) {
                                        setValidationErrors(prev => {
                                            const newErrors = { ...prev };
                                            delete newErrors.address;
                                            return newErrors;
                                        });
                                    }
                                },
                                className: `relative w-14 h-7 rounded-full transition-all duration-300 ${useCurrentLocation ? isNeonMode ? "bg-cyan-500 neon-switch-glow" : "bg-indigo-500" : "bg-gray-300"}`
                            }, React.createElement("div", {
                                className: `absolute top-1 w-5 h-5 bg-white rounded-full transition-all duration-300 ${useCurrentLocation ? "left-8" : "left-1"}`
                            }))
                        ]),

                        // Address Field
                        React.createElement("div", { key: "address-field" }, [
                            React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, 
                                useCurrentLocation ? "Location (Optional)" : "Location/Address *"
                            ),
                            React.createElement("input", {
                                type: "text",
                                value: formData.address,
                                onChange: (e) => handleInputChange("address", e.target.value),
                                placeholder: useCurrentLocation && userLocation ? 
                                    `Current: ${userLocation.address}` : 
                                    "Enter the event location or address",
                                className: getFieldClassName('address'),
                                required: !useCurrentLocation,
                                maxLength: 200
                            }),
                            validationErrors.address && React.createElement("p", { className: "text-red-500 text-xs mt-1" }, validationErrors.address),
                            useCurrentLocation && userLocation && React.createElement("p", { className: `text-xs mt-1 ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, 
                                `Using current location: ${userLocation.city}, ${userLocation.country}`
                            )
                        ])
                    ]),

                    // Category
                    React.createElement("div", { key: "category-field", className: "animate-in slide-in-from-left-4" }, [
                        React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Category"),
                        React.createElement("select", {
                            value: formData.category,
                            onChange: (e) => handleInputChange("category", e.target.value),
                            className: getFieldClassName('category')
                        }, [
                            React.createElement("option", { key: "event", value: "event" }, "ðŸŽ‰ Event"),
                            React.createElement("option", { key: "message", value: "message" }, "ðŸ’¬ Message"),
                            React.createElement("option", { key: "announcement", value: "announcement" }, "ðŸ“¢ Announcement"),
                            React.createElement("option", { key: "meetup", value: "meetup" }, "ðŸ‘¥ Meetup"),
                            React.createElement("option", { key: "sale", value: "sale" }, "ðŸ›ï¸ Sale/Marketplace")
                        ])
                    ]),

                    // Submit Button
                    React.createElement("div", { key: "submit-section", className: "pt-6 animate-in scale-in" },
                        React.createElement(HolographicButton, {
                            type: "submit",
                            variant: "primary",
                            size: "lg",
                            intensity: "high",
                            className: "w-full",
                            disabled: isSubmitting
                        }, isSubmitting ?
                            React.createElement("div", { className: "flex items-center justify-center gap-3" }, [
                                React.createElement("div", { key: "spinner", className: "animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent" }),
                                React.createElement("span", { key: "text" }, "Creating Post...")
                            ]) :
                            React.createElement("div", { className: "flex items-center justify-center gap-3" }, [
                                React.createElement("span", { key: "icon", className: "text-xl" }, "ðŸš€"),
                                React.createElement("span", { key: "text" }, "Create Post")
                            ])
                        )
                    )
                ]))
            ]);
        }

        // Enhanced Profile Page
        function ProfilePage() {
            const { user, getUserProfile, updateUserProfile } = useAppwrite();
            const { isNeonMode } = useTheme();
            const [profile, setProfile] = useState(null);
            const [loading, setLoading] = useState(true);
            const [isEditing, setIsEditing] = useState(false);
            const [editData, setEditData] = useState({});
            const [updateLoading, setUpdateLoading] = useState(false);

            useEffect(() => {
                loadProfile();
            }, [user]);

            const loadProfile = async () => {
                if (user) {
                    try {
                        const userProfile = await getUserProfile(user.$id);
                        setProfile(userProfile);
                        setEditData({
                            name: userProfile.name || '',
                            bio: userProfile.bio || '',
                            location: userProfile.location || '',
                            website: userProfile.website || '',
                            interests: userProfile.interests || []
                        });
                    } catch (error) {
                        console.error('Error loading profile:', error);
                    } finally {
                        setLoading(false);
                    }
                }
            };

            const handleUpdateProfile = async () => {
                setUpdateLoading(true);
                try {
                    const result = await updateUserProfile(user.$id, editData);
                    if (result.success) {
                        setProfile(result.profile);
                        setIsEditing(false);
                    }
                } catch (error) {
                    console.error('Error updating profile:', error);
                } finally {
                    setUpdateLoading(false);
                }
            };

            const getAchievements = () => {
                const achievements = [];
                if (profile.postsCount >= 1) achievements.push({ name: "First Post", icon: "ðŸŒŸ", description: "Created your first post" });
                if (profile.postsCount >= 10) achievements.push({ name: "Content Creator", icon: "ðŸ“", description: "Created 10 posts" });
                if (profile.followers >= 10) achievements.push({ name: "Popular", icon: "ðŸ‘¥", description: "Gained 10 followers" });
                if (profile.verified) achievements.push({ name: "Verified", icon: "âœ…", description: "Verified account" });
                
                return achievements;
            };

            if (loading) {
                return React.createElement("div", { className: "p-6 text-center" }, [
                    React.createElement("div", { key: "spinner", className: "animate-spin rounded-full h-12 w-12 border-4 border-indigo-500 border-t-transparent mx-auto mb-4" }),
                    React.createElement("p", { key: "text", className: `${isNeonMode ? "text-gray-400" : "text-gray-600"}` }, "Loading profile...")
                ]);
            }

            if (!profile) {
                return React.createElement("div", { className: "p-6 text-center py-16" }, [
                    React.createElement("div", { key: "icon", className: "text-6xl mb-4" }, "ðŸ‘¤"),
                    React.createElement("h3", { key: "heading", className: `text-xl font-semibold mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Profile Not Found"),
                    React.createElement("p", { key: "description", className: `${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, "Unable to load profile information.")
                ]);
            }

            const achievements = getAchievements();

            return React.createElement("div", { className: "p-6 max-w-6xl mx-auto" }, [
                React.createElement("h2", { key: "title", className: `text-3xl font-bold mb-8 text-center ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}` }, "Profile"),
                
                React.createElement("div", { key: "content", className: "grid grid-cols-1 lg:grid-cols-3 gap-8" }, [
                    // Main Profile Card
                    React.createElement("div", { key: "profile-section", className: "lg:col-span-2" },
                        React.createElement(HolographicCard, {
                            intensity: "high",
                            className: `rounded-2xl border backdrop-blur-sm ${isNeonMode ? "bg-gray-900 bg-opacity-95 border-cyan-400 neon-card-glow" : "bg-white bg-opacity-95 border-gray-200 shadow-xl"}`
                        }, [
                            React.createElement("div", { key: "profile-content", className: "p-8" }, [
                                // Header with Edit Button
                                React.createElement("div", { key: "header", className: "flex justify-between items-start mb-6" }, [
                                    React.createElement("div", { key: "avatar-section", className: "flex items-center gap-6" }, [
                                        React.createElement(UserAvatar, {
                                            user: profile,
                                            size: "xl",
                                            clickable: false
                                        }),
                                        React.createElement("div", { key: "basic-info" }, [
                                            React.createElement("h3", { key: "name", className: `text-2xl font-bold ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}` }, profile.name),
                                            React.createElement("p", { key: "username", className: `text-lg ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, `@${profile.username}`),
                                            profile.level && React.createElement("div", { key: "level", className: `inline-flex items-center gap-2 mt-2 px-3 py-1 rounded-full text-sm font-medium ${isNeonMode ? "bg-cyan-500 bg-opacity-20 text-cyan-400" : "bg-blue-100 text-blue-800"}` }, [
                                                React.createElement("span", { key: "icon" }, "â­"),
                                                React.createElement("span", { key: "text" }, `Level ${profile.level}`)
                                            ])
                                        ])
                                    ]),
                                    React.createElement(HolographicButton, {
                                        key: "edit-btn",
                                        variant: "outline",
                                        size: "md",
                                        onClick: () => setIsEditing(!isEditing)
                                    }, isEditing ? "Cancel" : "Edit Profile")
                                ]),

                                // Editing Form
                                isEditing && React.createElement("div", { key: "edit-form", className: "mb-6 p-6 rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800" }, [
                                    React.createElement("div", { key: "form-fields", className: "space-y-4" }, [
                                        React.createElement("div", { key: "name-field" }, [
                                            React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Name"),
                                            React.createElement("input", {
                                                type: "text",
                                                value: editData.name,
                                                onChange: (e) => setEditData(prev => ({ ...prev, name: e.target.value })),
                                                className: `w-full px-3 py-2 rounded-lg border ${isNeonMode ? "bg-gray-700 border-gray-600 text-white" : "bg-white border-gray-300 text-gray-900"}`
                                            })
                                        ]),
                                        React.createElement("div", { key: "bio-field" }, [
                                            React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Bio"),
                                            React.createElement("textarea", {
                                                value: editData.bio,
                                                onChange: (e) => setEditData(prev => ({ ...prev, bio: e.target.value })),
                                                rows: 3,
                                                className: `w-full px-3 py-2 rounded-lg border resize-none ${isNeonMode ? "bg-gray-700 border-gray-600 text-white" : "bg-white border-gray-300 text-gray-900"}`
                                            })
                                        ]),
                                        React.createElement("div", { key: "location-field" }, [
                                            React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Location"),
                                            React.createElement("input", {
                                                type: "text",
                                                value: editData.location,
                                                onChange: (e) => setEditData(prev => ({ ...prev, location: e.target.value })),
                                                className: `w-full px-3 py-2 rounded-lg border ${isNeonMode ? "bg-gray-700 border-gray-600 text-white" : "bg-white border-gray-300 text-gray-900"}`
                                            })
                                        ]),
                                        React.createElement("div", { key: "website-field" }, [
                                            React.createElement("label", { className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}` }, "Website"),
                                            React.createElement("input", {
                                                type: "url",
                                                value: editData.website,
                                                onChange: (e) => setEditData(prev => ({ ...prev, website: e.target.value })),
                                                className: `w-full px-3 py-2 rounded-lg border ${isNeonMode ? "bg-gray-700 border-gray-600 text-white" : "bg-white border-gray-300 text-gray-900"}`
                                            })
                                        ])
                                    ]),
                                    React.createElement("div", { key: "form-actions", className: "flex gap-3 mt-6" }, [
                                        React.createElement(HolographicButton, {
                                            key: "save-btn",
                                            variant: "primary",
                                            onClick: handleUpdateProfile,
                                            disabled: updateLoading
                                        }, updateLoading ? "Saving..." : "Save Changes"),
                                        React.createElement(HolographicButton, {
                                            key: "cancel-btn",
                                            variant: "ghost",
                                            onClick: () => setIsEditing(false)
                                        }, "Cancel")
                                    ])
                                ]),

                                // Profile Information
                                !isEditing && React.createElement("div", { key: "profile-info", className: "space-y-4 mb-6" }, [
                                    React.createElement("p", {
                                        key: "bio",
                                        className: `text-lg ${isNeonMode ? "text-gray-300" : "text-gray-600"}`
                                    }, profile.bio),
                                    profile.location && React.createElement("div", { key: "location", className: "flex items-center gap-2" }, [
                                        React.createElement("span", { key: "icon" }, "ðŸ“"),
                                        React.createElement("span", { key: "text", className: `${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, profile.location)
                                    ]),
                                    profile.website && React.createElement("div", { key: "website", className: "flex items-center gap-2" }, [
                                        React.createElement("span", { key: "icon" }, "ðŸŒ"),
                                        React.createElement("a", {
                                            key: "link",
                                            href: profile.website,
                                            target: "_blank",
                                            rel: "noopener noreferrer",
                                            className: `text-blue-500 hover:text-blue-600 underline`
                                        }, profile.website)
                                    ]),
                                    profile.joinedDate && React.createElement("div", { key: "joined", className: "flex items-center gap-2" }, [
                                        React.createElement("span", { key: "icon" }, "ðŸ“…"),
                                        React.createElement("span", { key: "text", className: `${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, 
                                            `Member since ${new Date(profile.joinedDate).toLocaleDateString()}`
                                        )
                                    ])
                                ]),

                                // Stats Grid
                                React.createElement("div", { key: "stats", className: "grid grid-cols-4 gap-4" }, [
                                    React.createElement("div", { key: "posts", className: "text-center p-4 rounded-xl profile-stats-card" }, [
                                        React.createElement("div", { key: "posts-count", className: `text-3xl font-bold ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}` }, profile.postsCount || 0),
                                        React.createElement("div", { key: "posts-label", className: `text-sm ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, "Posts")
                                    ]),
                                    React.createElement("div", { key: "followers", className: "text-center p-4 rounded-xl profile-stats-card" }, [
                                        React.createElement("div", { key: "followers-count", className: `text-3xl font-bold ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}` }, profile.followers || 0),
                                        React.createElement("div", { key: "followers-label", className: `text-sm ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, "Followers")
                                    ]),
                                    React.createElement("div", { key: "following", className: "text-center p-4 rounded-xl profile-stats-card" }, [
                                        React.createElement("div", { key: "following-count", className: `text-3xl font-bold ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}` }, profile.following || 0),
                                        React.createElement("div", { key: "following-label", className: `text-sm ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, "Following")
                                    ]),
                                    React.createElement("div", { key: "points", className: "text-center p-4 rounded-xl profile-stats-card" }, [
                                        React.createElement("div", { key: "points-count", className: `text-3xl font-bold ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}` }, profile.points || 0),
                                        React.createElement("div", { key: "points-label", className: `text-sm ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, "Points")
                                    ])
                                ])
                            ])
                        ])
                    ),

                    // Achievements Sidebar
                    React.createElement("div", { key: "achievements-section", className: "space-y-6" }, [
                        React.createElement(HolographicCard, {
                            key: "achievements-card",
                            intensity: "medium",
                            className: `rounded-2xl border backdrop-blur-sm ${isNeonMode ? "bg-gray-900 bg-opacity-95 border-cyan-400 neon-card-glow" : "bg-white bg-opacity-95 border-gray-200 shadow-xl"}`
                        }, [
                            React.createElement("div", { key: "achievements-content", className: "p-6" }, [
                                React.createElement("h3", { key: "achievements-title", className: `text-xl font-bold mb-4 ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}` }, "ðŸ† Achievements"),
                                achievements.length > 0 ? React.createElement("div", { key: "achievements-list", className: "space-y-3" },
                                    achievements.map((achievement, index) =>
                                        React.createElement("div", {
                                            key: index,
                                            className: `flex items-center gap-3 p-3 rounded-lg achievement-badge ${isNeonMode ? "bg-gray-800" : "bg-gray-50"}`
                                        }, [
                                            React.createElement("span", { key: "icon", className: "text-2xl" }, achievement.icon),
                                            React.createElement("div", { key: "info" }, [
                                                React.createElement("div", { key: "name", className: `font-semibold ${isNeonMode ? "text-white" : "text-gray-900"}` }, achievement.name),
                                                React.createElement("div", { key: "desc", className: `text-xs ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, achievement.description)
                                            ])
                                        ])
                                    )
                                ) : React.createElement("p", { key: "no-achievements", className: `text-center ${isNeonMode ? "text-gray-400" : "text-gray-500"}` }, "No achievements yet. Keep posting!")
                            ])
                        ]),

                        React.createElement(HolographicCard, {
                            key: "activity-card",
                            intensity: "medium",
                            className: `rounded-2xl border backdrop-blur-sm ${isNeonMode ? "bg-gray-900 bg-opacity-95 border-cyan-400 neon-card-glow" : "bg-white bg-opacity-95 border-gray-200 shadow-xl"}`
                        }, [
                            React.createElement("div", { key: "activity-content", className: "p-6" }, [
                                React.createElement("h3", { key: "activity-title", className: `text-xl font-bold mb-4 ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}` }, "ðŸ“Š Activity"),
                                React.createElement("div", { key: "activity-stats", className: "space-y-3" }, [
                                    React.createElement("div", { key: "activity-item", className: `flex justify-between items-center p-2 rounded ${isNeonMode ? "bg-gray-800" : "bg-gray-50"}` }, [
                                        React.createElement("span", { key: "label", className: `${isNeonMode ? "text-gray-300" : "text-gray-600"}` }, "Total Likes Received"),
                                        React.createElement("span", { key: "value", className: `font-semibold ${isNeonMode ? "text-white" : "text-gray-900"}` }, "0")
                                    ]),
                                    React.createElement("div", { key: "activity-item2", className: `flex justify-between items-center p-2 rounded ${isNeonMode ? "bg-gray-800" : "bg-gray-50"}` }, [
                                        React.createElement("span", { key: "label", className: `${isNeonMode ? "text-gray-300" : "text-gray-600"}` }, "Comments Made"),
                                        React.createElement("span", { key: "value", className: `font-semibold ${isNeonMode ? "text-white" : "text-gray-900"}` }, "0")
                                    ]),
                                    React.createElement("div", { key: "activity-item3", className: `flex justify-between items-center p-2 rounded ${isNeonMode ? "bg-gray-800" : "bg-gray-50"}` }, [
                                        React.createElement("span", { key: "label", className: `${isNeonMode ? "text-gray-300" : "text-gray-600"}` }, "Shares Given"),
                                        React.createElement("span", { key: "value", className: `font-semibold ${isNeonMode ? "text-white" : "text-gray-900"}` }, "0")
                                    ])
                                ])
                            ])
                        ])
                    ])
                ])
            ]);
        }

        function Preloader() {
            const { currentTheme, isNeonMode } = useTheme();
            const [progress, setProgress] = useState(0);
            const [currentAsset, setCurrentAsset] = useState("");
            const [loadingStage, setLoadingStage] = useState(0);

            const assets = [
                "Initializing LocaLife...",
                "Connecting to Appwrite...",
                "Loading themes...",
                "Preparing components...",
                "Setting up database...",
                "Getting your location...",
                "Optimizing experience...",
                "Almost ready...",
            ];

            useEffect(() => {
                let progressInterval;
                let assetInterval;

                progressInterval = setInterval(() => {
                    setProgress((prev) => {
                        if (prev >= 100) {
                            clearInterval(progressInterval);
                            return 100;
                        }
                        const increment = prev < 50 ? Math.random() * 8 + 2 : Math.random() * 3 + 1;
                        return Math.min(prev + increment, 100);
                    });
                }, 100);

                assetInterval = setInterval(() => {
                    setLoadingStage((prev) => {
                        const next = (prev + 1) % assets.length;
                        setCurrentAsset(assets[next]);
                        return next;
                    });
                }, 400);

                setCurrentAsset(assets[0]);

                return () => {
                    clearInterval(progressInterval);
                    clearInterval(assetInterval);
                };
            }, []);

            return React.createElement("div", {
                className: "fixed inset-0 z-50 flex items-center justify-center",
                style: {
                    background: isNeonMode
                        ? `radial-gradient(ellipse at center, ${currentTheme.background} 0%, #000000 100%)`
                        : `linear-gradient(135deg, ${currentTheme.primary}10 0%, ${currentTheme.secondary}05 50%, ${currentTheme.accent}10 100%)`,
                }
            }, [
                // Floating Orbs for Neon Mode
                isNeonMode && React.createElement("div", { key: "orbs", className: "floating-orbs" }, [
                    React.createElement("div", { key: "orb1", className: "floating-orb" }),
                    React.createElement("div", { key: "orb2", className: "floating-orb" }),
                    React.createElement("div", { key: "orb3", className: "floating-orb" })
                ]),

                // Main Content
                React.createElement("div", { key: "content", className: "relative z-10 text-center px-8 max-w-lg mx-auto" }, [
                    // Logo
                    React.createElement("div", { key: "logo", className: "mb-8 animate-in scale-in" }, [
                        React.createElement("div", {
                            key: "logo-circle",
                            className: `inline-flex items-center justify-center w-24 h-24 rounded-full mb-4 ${isNeonMode ? "bg-gray-900 bg-opacity-80 neon-orb-glow" : "bg-white bg-opacity-90"} shadow-2xl`,
                            style: {
                                boxShadow: isNeonMode
                                    ? `0 0 40px ${currentTheme.primary}60, 0 0 80px ${currentTheme.secondary}30`
                                    : `0 10px 40px ${currentTheme.primary}30`,
                            }
                        }, React.createElement("div", {
                            className: `text-3xl font-black animate-pulse ${isNeonMode ? "neon-text-glow" : ""}`,
                            style: {
                                color: currentTheme.primary,
                                textShadow: isNeonMode ? `0 0 20px ${currentTheme.primary}80` : "none",
                            }
                        }, "LL")),
                        React.createElement("h1", {
                            key: "title",
                            className: `text-4xl font-black tracking-tight mb-2 animate-in slide-in-from-bottom-4 ${isNeonMode ? "text-white neon-text-glow" : "text-gray-800"}`,
                            style: {
                                textShadow: isNeonMode
                                    ? `0 0 20px ${currentTheme.primary}60, 0 0 40px ${currentTheme.secondary}40`
                                    : `0 2px 10px ${currentTheme.primary}30`,
                            }
                        }, "LocaLife"),
                        React.createElement("p", {
                            key: "subtitle",
                            className: `text-lg font-medium animate-in slide-in-from-bottom-4 ${isNeonMode ? "text-gray-300" : "text-gray-600"}`,
                            style: {
                                textShadow: isNeonMode ? `0 0 10px ${currentTheme.secondary}40` : "none",
                                animationDelay: "0.2s"
                            }
                        }, "Connect Locally, Live Fully")
                    ]),

                    // Progress Section
                    React.createElement("div", { key: "progress", className: "space-y-6 animate-in fade-in", style: { animationDelay: "0.4s" } }, [
                        // Progress Bar
                        React.createElement("div", { key: "progress-bar", className: "relative" }, [
                            React.createElement("div", {
                                key: "progress-bg",
                                className: `w-full h-3 rounded-full overflow-hidden ${isNeonMode ? "bg-gray-800 bg-opacity-60" : "bg-gray-200"}`,
                                style: {
                                    boxShadow: isNeonMode ? `inset 0 0 10px ${currentTheme.primary}20` : "inset 0 2px 4px rgba(0,0,0,0.1)",
                                }
                            }, React.createElement("div", {
                                key: "progress-fill",
                                className: "h-full rounded-full transition-all duration-300 ease-out relative overflow-hidden",
                                style: {
                                    width: `${progress}%`,
                                    background: isNeonMode
                                        ? `linear-gradient(90deg, ${currentTheme.primary}, ${currentTheme.secondary}, ${currentTheme.accent})`
                                        : `linear-gradient(90deg, ${currentTheme.primary}, ${currentTheme.secondary})`,
                                    boxShadow: isNeonMode
                                        ? `0 0 20px ${currentTheme.primary}80, 0 0 40px ${currentTheme.secondary}40`
                                        : `0 2px 10px ${currentTheme.primary}40`,
                                }
                            })),
                            // Progress Percentage
                            React.createElement("div", { key: "progress-info", className: "flex justify-between items-center mt-3" }, [
                                React.createElement("span", {
                                    key: "percentage",
                                    className: `text-sm font-semibold ${isNeonMode ? "text-gray-400" : "text-gray-500"}`,
                                }, `${Math.round(progress)}%`)
                            ])
                        ]),

                        // Loading Message
                        React.createElement("div", { key: "loading-msg", className: "min-h-[2rem] flex items-center justify-center" },
                            React.createElement("div", {
                                className: `text-base font-medium transition-all duration-300 ${isNeonMode ? "text-white" : "text-gray-700"}`,
                            }, currentAsset)
                        )
                    ])
                ])
            ]);
        }

        function LandingPage({ onComplete }) {
            const { currentTheme, isNeonMode } = useTheme();
            const [currentStep, setCurrentStep] = useState(0);
            const [isExiting, setIsExiting] = useState(false);

            const steps = [
                { text: "LocaLife", delay: 0 },
                { text: "Connect Locally", delay: 1000 },
                { text: "Live Fully", delay: 2000 },
            ];

            useEffect(() => {
                steps.forEach((step, index) => {
                    setTimeout(() => {
                        setCurrentStep(index + 1);
                    }, step.delay);
                });

                setTimeout(() => {
                    setIsExiting(true);
                }, 3500);

                setTimeout(() => {
                    onComplete();
                }, 4500);
            }, [onComplete]);

            return React.createElement("div", {
                className: `fixed inset-0 z-50 flex items-center justify-center transition-all duration-1000 ${isExiting ? "opacity-0 scale-95" : "opacity-100 scale-100"}`,
                style: {
                    background: isNeonMode
                        ? `radial-gradient(ellipse at center, ${currentTheme.background} 0%, #000000 100%)`
                        : `linear-gradient(135deg, ${currentTheme.primary}15 0%, ${currentTheme.secondary}10 50%, ${currentTheme.accent}15 100%)`,
                }
            }, [
                // Floating Orbs for Neon Mode
                isNeonMode && React.createElement("div", { key: "orbs", className: "floating-orbs" }, [
                    React.createElement("div", { key: "orb1", className: "floating-orb" }),
                    React.createElement("div", { key: "orb2", className: "floating-orb" }),
                    React.createElement("div", { key: "orb3", className: "floating-orb" })
                ]),

                // Main Content
                React.createElement("div", { key: "content", className: "relative z-10 text-center px-8 max-w-4xl mx-auto" }, [
                    // Logo/Brand Name
                    React.createElement("div", { key: "logo", className: "mb-8" },
                        React.createElement("h1", {
                            className: `text-6xl md:text-8xl lg:text-9xl font-black tracking-tight transition-all duration-1000 ${currentStep >= 1 ? "opacity-100 transform translate-y-0 scale-100" : "opacity-0 transform translate-y-8 scale-95"} ${isNeonMode ? "text-transparent bg-clip-text animate-pulse neon-text-glow" : "text-transparent bg-clip-text"}`,
                            style: {
                                backgroundImage: isNeonMode
                                    ? `linear-gradient(45deg, ${currentTheme.primary}, ${currentTheme.secondary}, ${currentTheme.accent}, ${currentTheme.primary})`
                                    : `linear-gradient(135deg, ${currentTheme.primary}, ${currentTheme.secondary}, ${currentTheme.accent})`,
                                backgroundSize: isNeonMode ? "400% 400%" : "100% 100%",
                                animation: isNeonMode ? "gradientShift 3s ease-in-out infinite" : "none",
                                textShadow: isNeonMode
                                    ? `0 0 30px ${currentTheme.primary}80, 0 0 60px ${currentTheme.secondary}60, 0 0 90px ${currentTheme.accent}40`
                                    : `0 4px 20px ${currentTheme.primary}40`,
                                filter: isNeonMode ? "brightness(1.2)" : "none",
                            }
                        }, "LocaLife")
                    ),

                    // Tagline
                    React.createElement("div", { key: "tagline", className: "space-y-4" }, [
                        React.createElement("div", {
                            key: "connect",
                            className: `transition-all duration-1000 delay-300 ${currentStep >= 2 ? "opacity-100 transform translate-y-0" : "opacity-0 transform translate-y-4"}`
                        }, React.createElement("p", {
                            className: `text-2xl md:text-4xl lg:text-5xl font-bold tracking-wide ${isNeonMode ? "text-white neon-text-glow" : "text-gray-800"}`,
                        }, "Connect Locally")),
                        React.createElement("div", {
                            key: "live",
                            className: `transition-all duration-1000 delay-700 ${currentStep >= 3 ? "opacity-100 transform translate-y-0" : "opacity-0 transform translate-y-4"}`
                        }, React.createElement("p", {
                            className: `text-2xl md:text-4xl lg:text-5xl font-bold tracking-wide ${isNeonMode ? "text-white neon-text-glow" : "text-gray-800"}`,
                        }, "Live Fully"))
                    ])
                ])
            ]);
        }

        function SignInPage({ onSignIn }) {
            const { currentTheme, isNeonMode } = useTheme();
            const { signIn, signUp } = useAppwrite();
            const [isSignUp, setIsSignUp] = useState(false);
            const [showPassword, setShowPassword] = useState(false);
            const [showConfirmPassword, setShowConfirmPassword] = useState(false);
            const [isLoading, setIsLoading] = useState(false);
            const [error, setError] = useState('');
            const [formData, setFormData] = useState({
                email: "",
                password: "",
                confirmPassword: "",
                name: "",
                phone: "",
                location: "",
            });

            const handleSubmit = async (e) => {
                e.preventDefault();
                setIsLoading(true);
                setError('');

                try {
                    if (isSignUp) {
                        if (formData.password !== formData.confirmPassword) {
                            setError('Passwords do not match');
                            setIsLoading(false);
                            return;
                        }
                        const result = await signUp(formData.email, formData.password, formData.name);
                        if (!result.success) {
                            setError(result.error);
                        } else {
                            onSignIn();
                        }
                    } else {
                        const result = await signIn(formData.email, formData.password);
                        if (!result.success) {
                            setError(result.error);
                        } else {
                            onSignIn();
                        }
                    }
                } catch (err) {
                    setError('An unexpected error occurred');
                    console.error(err);
                } finally {
                    setIsLoading(false);
                }
            };

            const handleInputChange = (field, value) => {
                setFormData((prev) => ({ ...prev, [field]: value }));
                if (error) setError('');
            };

            return React.createElement("div", {
                className: "min-h-screen flex items-center justify-center p-4 relative overflow-hidden",
                style: {
                    background: isNeonMode
                        ? `radial-gradient(ellipse at center, ${currentTheme.background} 0%, #000000 100%)`
                        : `linear-gradient(135deg, ${currentTheme.primary}15 0%, ${currentTheme.secondary}10 50%, ${currentTheme.accent}15 100%)`,
                }
            }, [
                // Floating Orbs for Neon Mode
                isNeonMode && React.createElement("div", { key: "orbs", className: "floating-orbs" }, [
                    React.createElement("div", { key: "orb1", className: "floating-orb" }),
                    React.createElement("div", { key: "orb2", className: "floating-orb" }),
                    React.createElement("div", { key: "orb3", className: "floating-orb" })
                ]),

                // Main Content
                React.createElement("div", { key: "content", className: "relative z-10 w-full max-w-md mx-auto animate-in scale-in" },
                    React.createElement(HolographicCard, {
                        intensity: "high",
                        className: `rounded-3xl shadow-2xl border backdrop-blur-sm ${isNeonMode ? "bg-gray-900 bg-opacity-95 border-cyan-400 neon-card-glow" : "bg-white bg-opacity-95 border-gray-200"}`
                    }, [
                        // Header
                        React.createElement("div", { key: "header", className: "p-8 pb-0" },
                            React.createElement("div", { className: "text-center mb-8" }, [
                                React.createElement("div", {
                                    key: "logo",
                                    className: `inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${isNeonMode ? "bg-cyan-500 bg-opacity-20 neon-icon-glow" : "bg-indigo-100"}`,
                                }, React.createElement("span", {
                                    className: `text-2xl font-bold ${isNeonMode ? "neon-text-glow" : ""}`,
                                    style: { color: currentTheme.primary }
                                }, "LL")),
                                React.createElement("h1", {
                                    key: "title",
                                    className: `text-3xl font-bold mb-2 ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}`,
                                }, isSignUp ? "Join LocaLife" : "Welcome Back"),
                                React.createElement("p", {
                                    key: "subtitle",
                                    className: `text-sm ${isNeonMode ? "text-gray-300" : "text-gray-600"}`
                                }, isSignUp ? "Create your account to connect locally" : "Sign in to your account to continue")
                            ])
                        ),

                        // Error Message
                        error && React.createElement("div", { key: "error", className: "px-8 pb-4 animate-in slide-in-from-top-2" },
                            React.createElement("div", { className: "bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl text-sm" },
                                error
                            )
                        ),

                        // Form Container
                        React.createElement("div", { key: "form-container", className: "px-8 pb-8 max-h-96 overflow-y-auto scrollbar-hide" },
                            React.createElement("form", { onSubmit: handleSubmit, className: "space-y-6" }, [
                                // Name Field (Sign Up Only)
                                isSignUp && React.createElement("div", { key: "name", className: "animate-in slide-in-from-left-4" }, [
                                    React.createElement("label", {
                                        className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}`
                                    }, "Full Name *"),
                                    React.createElement("div", { className: "relative" }, [
                                        React.createElement("span", {
                                            key: "name-icon",
                                            className: `absolute left-3 top-1/2 transform -translate-y-1/2 text-lg ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                                        }, "ðŸ‘¤"),
                                        React.createElement("input", {
                                            key: "name-input",
                                            type: "text",
                                            value: formData.name,
                                            onChange: (e) => handleInputChange("name", e.target.value),
                                            placeholder: "Enter your full name",
                                            className: `w-full pl-12 pr-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-2 ${isNeonMode ? "bg-gray-800 border-gray-600 text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-cyan-200" : "bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:ring-indigo-200"}`,
                                            required: isSignUp
                                        })
                                    ])
                                ]),

                                // Email Field
                                React.createElement("div", { key: "email", className: "animate-in slide-in-from-right-4" }, [
                                    React.createElement("label", {
                                        className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}`
                                    }, "Email Address *"),
                                    React.createElement("div", { className: "relative" }, [
                                        React.createElement("span", {
                                            key: "email-icon",
                                            className: `absolute left-3 top-1/2 transform -translate-y-1/2 text-lg ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                                        }, "ðŸ“§"),
                                        React.createElement("input", {
                                            key: "email-input",
                                            type: "email",
                                            value: formData.email,
                                            onChange: (e) => handleInputChange("email", e.target.value),
                                            placeholder: "Enter your email",
                                            className: `w-full pl-12 pr-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-2 ${isNeonMode ? "bg-gray-800 border-gray-600 text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-cyan-200" : "bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:ring-indigo-200"}`,
                                            required: true
                                        })
                                    ])
                                ]),

                                // Password Field
                                React.createElement("div", { key: "password", className: "animate-in slide-in-from-left-4" }, [
                                    React.createElement("label", {
                                        className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}`
                                    }, "Password *"),
                                    React.createElement("div", { className: "relative" }, [
                                        React.createElement("span", {
                                            key: "password-icon",
                                            className: `absolute left-3 top-1/2 transform -translate-y-1/2 text-lg ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                                        }, "ðŸ”’"),
                                        React.createElement("input", {
                                            key: "password-input",
                                            type: showPassword ? "text" : "password",
                                            value: formData.password,
                                            onChange: (e) => handleInputChange("password", e.target.value),
                                            placeholder: "Enter your password",
                                            className: `w-full pl-12 pr-12 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-2 ${isNeonMode ? "bg-gray-800 border-gray-600 text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-cyan-200" : "bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:ring-indigo-200"}`,
                                            required: true
                                        }),
                                        React.createElement("button", {
                                            key: "password-toggle",
                                            type: "button",
                                            onClick: () => setShowPassword(!showPassword),
                                            className: `absolute right-3 top-1/2 transform -translate-y-1/2 ${isNeonMode ? "text-gray-400 hover:text-gray-300" : "text-gray-500 hover:text-gray-700"}`
                                        }, showPassword ? "ðŸ™ˆ" : "ðŸ‘ï¸")
                                    ])
                                ]),

                                // Confirm Password Field (Sign Up Only)
                                isSignUp && React.createElement("div", { key: "confirm-password", className: "animate-in slide-in-from-right-4" }, [
                                    React.createElement("label", {
                                        className: `block text-sm font-medium mb-2 ${isNeonMode ? "text-white" : "text-gray-700"}`
                                    }, "Confirm Password *"),
                                    React.createElement("div", { className: "relative" }, [
                                        React.createElement("span", {
                                            key: "confirm-password-icon",
                                            className: `absolute left-3 top-1/2 transform -translate-y-1/2 text-lg ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                                        }, "ðŸ”’"),
                                        React.createElement("input", {
                                            key: "confirm-password-input",
                                            type: showConfirmPassword ? "text" : "password",
                                            value: formData.confirmPassword,
                                            onChange: (e) => handleInputChange("confirmPassword", e.target.value),
                                            placeholder: "Confirm your password",
                                            className: `w-full pl-12 pr-12 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-2 ${isNeonMode ? "bg-gray-800 border-gray-600 text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-cyan-200" : "bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:ring-indigo-200"}`,
                                            required: isSignUp
                                        }),
                                        React.createElement("button", {
                                            key: "confirm-password-toggle",
                                            type: "button",
                                            onClick: () => setShowConfirmPassword(!showConfirmPassword),
                                            className: `absolute right-3 top-1/2 transform -translate-y-1/2 ${isNeonMode ? "text-gray-400 hover:text-gray-300" : "text-gray-500 hover:text-gray-700"}`
                                        }, showConfirmPassword ? "ðŸ™ˆ" : "ðŸ‘ï¸")
                                    ])
                                ]),

                                // Submit Button
                                React.createElement("div", { key: "submit-section", className: "animate-in scale-in" },
                                    React.createElement(HolographicButton, {
                                        type: "submit",
                                        variant: "primary",
                                        size: "lg",
                                        intensity: "high",
                                        className: "w-full",
                                        disabled: isLoading
                                    }, isLoading ?
                                        React.createElement("div", { className: "flex items-center justify-center gap-2" }, [
                                            React.createElement("div", { key: "spinner", className: "animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent" }),
                                            React.createElement("span", { key: "loading-text" }, isSignUp ? "Creating Account..." : "Signing In...")
                                        ]) :
                                        React.createElement("div", { className: "flex items-center justify-center gap-2" }, [
                                            React.createElement("span", { key: "icon" }, isSignUp ? "ðŸš€" : "ðŸ”‘"),
                                            React.createElement("span", { key: "text" }, isSignUp ? "Create Account" : "Sign In")
                                        ])
                                    )
                                ),

                                // Toggle Sign Up/Sign In
                                React.createElement("div", { key: "toggle", className: "text-center pt-4" }, [
                                    React.createElement("p", {
                                        key: "toggle-text",
                                        className: `text-sm ${isNeonMode ? "text-gray-400" : "text-gray-600"}`
                                    }, isSignUp ? "Already have an account?" : "Don't have an account?"),
                                    React.createElement(HolographicButton, {
                                        key: "toggle-button",
                                        type: "button",
                                        variant: "ghost",
                                        size: "sm",
                                        onClick: () => setIsSignUp(!isSignUp),
                                        className: "mt-2"
                                    }, isSignUp ? "Sign In" : "Sign Up")
                                ])
                            ])
                        ),

                        // Footer
                        React.createElement("div", {
                            key: "footer",
                            className: `px-8 py-4 border-t ${isNeonMode ? "border-gray-700 bg-gray-800" : "border-gray-200 bg-gray-50"} rounded-b-3xl`
                        }, React.createElement("p", {
                            className: `text-xs text-center ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                        }, "ðŸ”’ Your data is secure and encrypted"))
                    ])
                )
            ]);
        }

        function ArcNav({ currentPage, setCurrentPage }) {
            const { currentTheme, isNeonMode } = useTheme();
            const { user, signOut } = useAppwrite();
            const { userLocation } = useLocation();
            const [canScrollLeft, setCanScrollLeft] = useState(false);
            const [canScrollRight, setCanScrollRight] = useState(false);
            const scrollContainerRef = useRef(null);

            const navItems = [
                { name: "Home", href: "home", icon: "ðŸ " },
                { name: "Events", href: "events", icon: "ðŸ“…" },
                { name: "Messages", href: "messages", icon: "ðŸ’¬" },
                { name: "Upload", href: "upload", icon: "âž•" },
                { name: "Profile", href: "profile", icon: "ðŸ‘¤" },
            ];

            const checkScrollButtons = () => {
                if (scrollContainerRef.current) {
                    const { scrollLeft, scrollWidth, clientWidth } = scrollContainerRef.current;
                    setCanScrollLeft(scrollLeft > 0);
                    setCanScrollRight(scrollLeft < scrollWidth - clientWidth - 1);
                }
            };

            useEffect(() => {
                checkScrollButtons();
                const handleResize = () => checkScrollButtons();
                window.addEventListener("resize", handleResize);
                return () => window.removeEventListener("resize", handleResize);
            }, []);

            const scroll = (direction) => {
                if (scrollContainerRef.current) {
                    const scrollAmount = 200;
                    const newScrollLeft = scrollContainerRef.current.scrollLeft + (direction === "left" ? -scrollAmount : scrollAmount);
                    scrollContainerRef.current.scrollTo({
                        left: newScrollLeft,
                        behavior: "smooth",
                    });
                }
            };

            const currentUser = user ? {
                id: user.$id,
                name: user.name,
                username: user.email.split('@')[0],
                email: user.email,
                avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name)}&background=4f46e5&color=fff&size=200`,
                verified: false
            } : null;

            return React.createElement("nav", { className: "relative w-full" },
                React.createElement("div", { className: "relative w-full h-40 overflow-hidden" }, [
                    // Dynamic Background Arc
                    React.createElement("div", {
                        key: "bg-arc",
                        className: `absolute inset-0 bg-gradient-to-br ${currentTheme.gradient} ${isNeonMode ? "neon-nav-glow" : ""}`
                    }),

                    // Arc Shape
                    React.createElement("div", {
                        key: "arc-shape",
                        className: `absolute inset-0 bg-gradient-to-br ${currentTheme.gradient} rounded-b-full transform scale-x-150 scale-y-75 origin-top ${isNeonMode ? "neon-arc-glow" : ""}`
                    }),

                    // Navigation Content
                    React.createElement("div", { key: "nav-content", className: "relative z-10 h-full flex items-center justify-center px-4" }, [
                        // Left Scroll Button
                        canScrollLeft && React.createElement(HolographicButton, {
                            key: "scroll-left",
                            variant: "ghost",
                            size: "md",
                            intensity: "medium",
                            onClick: () => scroll("left"),
                            className: `absolute left-4 z-20 p-3 backdrop-blur-sm rounded-full text-white transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-110 ${isNeonMode ? "bg-white bg-opacity-10 hover:bg-opacity-20 neon-button-glow" : "bg-white bg-opacity-20 hover:bg-opacity-30"}`
                        }, "â—€ï¸"),

                        // Scrollable Navigation Container
                        React.createElement("div", {
                            key: "nav-container",
                            ref: scrollContainerRef,
                            onScroll: checkScrollButtons,
                            className: "flex items-center gap-2 overflow-x-auto scrollbar-hide px-20 py-4 max-w-4xl",
                            style: { scrollbarWidth: "none", msOverflowStyle: "none" }
                        }, [
                            ...navItems.map((item) => {
                                const isActive = currentPage === item.href;
                                return React.createElement("button", {
                                    key: item.name,
                                    onClick: () => {
                                        setCurrentPage(item.href);
                                        window.history.pushState({}, "", `#${item.href}`);
                                    },
                                    className: `group relative flex flex-col items-center gap-2 px-6 py-3 rounded-2xl transition-all duration-300 hover:scale-110 min-w-fit ${isActive ? isNeonMode ? "bg-white bg-opacity-15 backdrop-blur-sm shadow-lg scale-110 neon-nav-item-active" : "bg-white bg-opacity-25 backdrop-blur-sm shadow-lg scale-110" : isNeonMode ? "hover:bg-white hover:bg-opacity-10 backdrop-blur-sm neon-nav-item-hover" : "hover:bg-white hover:bg-opacity-15 backdrop-blur-sm"}`
                                }, [
                                    React.createElement(HolographicButton, {
                                        key: "icon",
                                        variant: "ghost",
                                        size: "sm",
                                        intensity: isActive ? "high" : "medium",
                                        className: `p-3 rounded-xl transition-all duration-300 ${isActive ? isNeonMode ? "bg-white shadow-lg neon-icon-active" : "bg-white shadow-lg" : isNeonMode ? "bg-white bg-opacity-15 text-white group-hover:bg-white neon-icon-hover" : "bg-white bg-opacity-20 text-white group-hover:bg-white"}`,
                                        style: {
                                            color: isActive ? currentTheme.primary : undefined,
                                            boxShadow: isActive && isNeonMode ? `0 0 20px ${currentTheme.glowColor}60` : undefined,
                                        }
                                    }, item.icon),
                                    React.createElement("span", {
                                        key: "label",
                                        className: `text-sm font-semibold transition-all duration-300 ${isActive ? isNeonMode ? "text-white drop-shadow-sm neon-text-active" : "text-white drop-shadow-sm" : isNeonMode ? "text-white text-opacity-90 group-hover:text-white group-hover:drop-shadow-sm neon-text-hover" : "text-white text-opacity-90 group-hover:text-white group-hover:drop-shadow-sm"}`
                                    }, item.name),
                                    isActive && React.createElement("div", {
                                        key: "indicator",
                                        className: `absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-white rounded-full shadow-lg ${isNeonMode ? "animate-pulse neon-dot-glow" : "animate-pulse"}`
                                    })
                                ]);
                            }),

                            // User Avatar Section
                            currentUser && React.createElement("div", { key: "user-section", className: "ml-4 pl-4 border-l border-white border-opacity-30" },
                                React.createElement("div", { className: "group relative" }, [
                                    React.createElement("div", {
                                        key: "avatar",
                                        className: isNeonMode ? "neon-avatar-glow" : ""
                                    }, React.createElement(UserAvatar, {
                                        user: currentUser,
                                        size: "lg",
                                        showName: false,
                                        showUsername: false,
                                        clickable: true,
                                        className: "hover:scale-110 transition-all duration-300"
                                    })),

                                    // User Menu
                                    React.createElement("div", { key: "menu", className: "absolute top-full left-1/2 transform -translate-x-1/2 mt-2 opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none group-hover:pointer-events-auto z-50" }, [
                                        React.createElement("div", {
                                            key: "menu-content",
                                            className: `backdrop-blur-sm rounded-xl px-4 py-3 shadow-lg ${isNeonMode ? "bg-gray-900 bg-opacity-95 border border-cyan-400 neon-tooltip-glow" : "bg-white bg-opacity-95"}`
                                        }, [
                                            React.createElement("p", {
                                                key: "name",
                                                className: `text-sm font-semibold mb-2 ${isNeonMode ? "text-white" : "text-gray-800"}`
                                            }, currentUser.name),
                                            userLocation && React.createElement("div", { key: "location", className: "mb-2" },
                                                React.createElement(LocationBadge, {
                                                    location: userLocation.city
                                                })
                                            ),
                                            React.createElement(HolographicButton, {
                                                key: "signout",
                                                variant: "ghost",
                                                size: "sm",
                                                onClick: signOut,
                                                className: "text-red-500 hover:text-red-600"
                                            }, "Sign Out")
                                        ])
                                    ])
                                ])
                            )
                        ]),

                        // Right Scroll Button
                        canScrollRight && React.createElement(HolographicButton, {
                            key: "scroll-right",
                            variant: "ghost",
                            size: "md",
                            intensity: "medium",
                            onClick: () => scroll("right"),
                            className: `absolute right-16 z-20 p-3 backdrop-blur-sm rounded-full text-white transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-110 ${isNeonMode ? "bg-white bg-opacity-10 hover:bg-opacity-20 neon-button-glow" : "bg-white bg-opacity-20 hover:bg-opacity-30"}`
                        }, "â–¶ï¸"),

                        // Theme Toggle
                        React.createElement("div", { key: "theme-toggle", className: "absolute right-4 z-20" },
                            React.createElement(NeonThemeToggle)
                        )
                    ])
                ])
            );
        }

        function NeonThemeToggle() {
            const { currentTheme, setTheme, isNeonMode, toggleNeonMode, isTransitioning } = useTheme();
            const [isOpen, setIsOpen] = useState(false);
            const currentThemes = isNeonMode ? neonThemes : regularThemes;

            return React.createElement("div", { className: "relative" }, [
                React.createElement("button", {
                    key: "toggle-button",
                    onClick: () => setIsOpen(!isOpen),
                    className: `p-3 backdrop-blur-sm rounded-full text-white transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-110 ${isNeonMode ? "bg-white bg-opacity-10 hover:bg-opacity-20 neon-glow" : "bg-white bg-opacity-20 hover:bg-opacity-30"}`,
                    title: "Change Theme",
                    disabled: isTransitioning
                }, "ðŸŽ¨"),

                isOpen && React.createElement("div", {
                    key: "backdrop",
                    className: "fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-40",
                    onClick: () => setIsOpen(false)
                }),

                isOpen && React.createElement("div", {
                    key: "theme-panel",
                    className: `absolute top-full right-0 mt-2 w-96 rounded-2xl shadow-2xl z-50 overflow-hidden animate-in slide-in-from-top-2 duration-300 ${isNeonMode ? "bg-gray-900 border border-cyan-500 neon-border-glow" : "bg-white"}`
                }, [
                    // Header
                    React.createElement("div", {
                        key: "header",
                        className: `p-6 border-b ${isNeonMode ? "border-gray-700 bg-gray-800" : "border-gray-200 bg-white"}`
                    }, [
                        React.createElement("div", { key: "header-content", className: "flex items-center justify-between mb-4" }, [
                            React.createElement("div", { key: "header-text" }, [
                                React.createElement("h3", {
                                    key: "title",
                                    className: `text-lg font-bold ${isNeonMode ? "text-white neon-text-glow" : "text-gray-900"}`
                                }, "Choose Theme"),
                                React.createElement("p", {
                                    key: "subtitle",
                                    className: `text-sm ${isNeonMode ? "text-gray-300" : "text-gray-500"}`
                                }, `Current: ${currentTheme.name}`)
                            ]),
                            React.createElement("button", {
                                key: "close",
                                onClick: () => setIsOpen(false),
                                className: `p-2 rounded-full transition-colors ${isNeonMode ? "hover:bg-gray-700 text-gray-300" : "hover:bg-gray-100 text-gray-500"}`
                            }, "âŒ")
                        ]),

                        // Neon Mode Toggle
                        React.createElement("div", { key: "neon-toggle", className: "flex items-center justify-between" }, [
                            React.createElement("div", { key: "toggle-info", className: "flex items-center gap-3" }, [
                                React.createElement("div", {
                                    key: "toggle-icon",
                                    className: `p-2 rounded-lg ${isNeonMode ? "bg-cyan-500 bg-opacity-20 neon-icon-glow" : "bg-yellow-100"}`
                                }, React.createElement("span", {
                                    className: isNeonMode ? "text-cyan-400" : "text-yellow-600"
                                }, isNeonMode ? "âš¡" : "â˜€ï¸")),
                                React.createElement("div", { key: "toggle-text" }, [
                                    React.createElement("p", {
                                        key: "mode-name",
                                        className: `font-semibold ${isNeonMode ? "text-white" : "text-gray-900"}`
                                    }, isNeonMode ? "Neon Mode" : "Regular Mode"),
                                    React.createElement("p", {
                                        key: "mode-desc",
                                        className: `text-xs ${isNeonMode ? "text-gray-400" : "text-gray-500"}`
                                    }, isNeonMode ? "Futuristic glow effects" : "Classic clean design")
                                ])
                            ]),
                            React.createElement("button", {
                                key: "toggle-switch",
                                onClick: () => {
                                    toggleNeonMode();
                                    setTimeout(() => setIsOpen(false), 100);
                                },
                                className: `relative w-14 h-7 rounded-full transition-all duration-300 ${isNeonMode ? "bg-cyan-500 neon-switch-glow" : "bg-gray-300"}`,
                                disabled: isTransitioning
                            }, React.createElement("div", {
                                className: `absolute top-1 w-5 h-5 bg-white rounded-full transition-all duration-300 ${isNeonMode ? "left-8 shadow-cyan-400 shadow-lg" : "left-1"}`
                            }))
                        ])
                    ]),

                    // Theme Grid
                    React.createElement("div", {
                        key: "theme-grid",
                        className: `p-6 max-h-96 overflow-y-auto ${isNeonMode ? "bg-gray-900" : "bg-white"}`
                    }, React.createElement("div", { className: "grid grid-cols-2 gap-4" },
                        currentThemes.map((theme) => React.createElement("button", {
                            key: theme.id,
                            onClick: () => {
                                if (!isTransitioning) {
                                    setTheme(theme.id);
                                    setTimeout(() => setIsOpen(false), 100);
                                }
                            },
                            className: `group relative p-4 rounded-xl border-2 transition-all duration-300 hover:scale-105 ${currentTheme.id === theme.id ? isNeonMode ? "border-cyan-400 bg-gray-800 neon-card-glow" : "border-indigo-500 bg-indigo-50" : isNeonMode ? "border-gray-600 hover:border-gray-500 bg-gray-800 hover:bg-gray-700" : "border-gray-200 hover:border-gray-300 bg-white hover:bg-gray-50"} ${isTransitioning ? "opacity-50 cursor-not-allowed" : ""}`,
                            disabled: isTransitioning
                        }, [
                            // Theme Preview
                            React.createElement("div", { key: "preview", className: "mb-3" },
                                React.createElement("div", {
                                    className: `w-full h-16 rounded-lg bg-gradient-to-r ${theme.gradient} shadow-lg relative overflow-hidden ${theme.isNeon ? "neon-preview-glow" : ""}`
                                })
                            ),

                            // Theme Info
                            React.createElement("div", { key: "info", className: "text-left" }, [
                                React.createElement("div", { key: "name-row", className: "flex items-center gap-2 mb-1" }, [
                                    React.createElement("span", {
                                        key: "icon",
                                        className: `text-lg ${theme.isNeon ? "animate-pulse" : ""}`
                                    }, theme.icon),
                                    React.createElement("span", {
                                        key: "name",
                                        className: `font-semibold text-sm ${isNeonMode ? "text-white" : "text-gray-900"}`
                                    }, theme.name)
                                ])
                            ]),

                            // Active Indicator
                            currentTheme.id === theme.id && React.createElement("div", {
                                key: "active",
                                className: `absolute top-2 right-2 p-1 rounded-full ${isNeonMode ? "bg-cyan-500 neon-check-glow" : "bg-indigo-500"}`
                            }, React.createElement("span", { className: "text-white text-xs" }, "âœ…"))
                        ]))
                    ))
                ])
            ]);
        }

        function App() {
            const [currentPage, setCurrentPage] = useState("home");
            const [showLanding, setShowLanding] = useState(true);
            const [isLoading, setIsLoading] = useState(true);
            const { isAuthenticated, isLoading: authLoading, signOut } = useAppwrite();

            useEffect(() => {
                const loadAssets = async () => {
                    await new Promise((resolve) => setTimeout(resolve, 2000));
                    setIsLoading(false);
                };
                loadAssets();
            }, []);

            useEffect(() => {
                if (!isLoading && !authLoading) {
                    const timer = setTimeout(() => {
                        setShowLanding(false);
                    }, 4000);
                    return () => clearTimeout(timer);
                }
            }, [isLoading, authLoading]);

            useEffect(() => {
                const handleHashChange = () => {
                    const hash = window.location.hash.slice(1);
                    const validPages = ["home", "events", "messages", "upload", "profile", "signin"];
                    if (hash && validPages.includes(hash)) {
                        setCurrentPage(hash);
                    } else if (!hash) {
                        setCurrentPage("home");
                    }
                };

                handleHashChange();
                window.addEventListener("hashchange", handleHashChange);
                return () => window.removeEventListener("hashchange", handleHashChange);
            }, []);

            if (isLoading || authLoading) {
                return React.createElement(ThemeProvider, null,
                    React.createElement(LocationProvider, null,
                        React.createElement(SoundProvider, null,
                            React.createElement(Preloader)
                        )
                    )
                );
            }

            if (showLanding) {
                return React.createElement(ThemeProvider, null,
                    React.createElement(LocationProvider, null,
                        React.createElement(SoundProvider, null,
                            React.createElement(LandingPage, { onComplete: () => setShowLanding(false) })
                        )
                    )
                );
            }

            if (!isAuthenticated && currentPage !== "signin") {
                return React.createElement(ThemeProvider, null,
                    React.createElement(LocationProvider, null,
                        React.createElement(SoundProvider, null,
                            React.createElement(SignInPage, { onSignIn: () => window.location.reload() })
                        )
                    )
                );
            }
         

            const renderPage = () => {
                switch (currentPage) {
                    case "signin":
                        return React.createElement(SignInPage, { onSignIn: () => window.location.reload() });
                    case "events":
                        return React.createElement(PostsList);
                    case "messages":
                        return React.createElement("div", { className: "p-6" }, [
                            React.createElement("h2", { key: "title", className: "text-2xl font-bold mb-4 text-gray-900 dark:text-white" }, "Messages"),
                            React.createElement("div", { key: "content", className: "text-center py-16" }, [
                                React.createElement("div", { key: "icon", className: "text-6xl mb-4" }, "ðŸ’¬"),
                                React.createElement("h3", { key: "heading", className: "text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2" }, "Messages Coming Soon"),
                                React.createElement("p", { key: "description", className: "text-gray-500 dark:text-gray-400" }, "Stay connected with local announcements and community updates.")
                            ])
                        ]);
                    case "upload":
                        return React.createElement(CreatePostForm);
                    case "profile":
                        return React.createElement(ProfilePage);
                    default:
                        return React.createElement("div", { className: "space-y-6" }, [
                            React.createElement("div", { key: "welcome", className: "p-6 pb-0" },
                                React.createElement("div", { className: "bg-blue-50 dark:bg-blue-900 dark:bg-opacity-30 border-l-4 border-blue-400 p-4 rounded-lg animate-in slide-in-from-left-4" },
                                    React.createElement("div", { className: "flex items-center" }, [
                                        React.createElement("span", { key: "icon", className: "text-blue-400 mr-2 text-2xl" }, "ðŸ "),
                                        React.createElement("div", { key: "content" },
                                            React.createElement("p", { className: "text-sm text-blue-800 dark:text-blue-200" }, [
                                                React.createElement("strong", { key: "bold" }, "Welcome to LocaLife!"),
                                                " Connect with your local community, discover events, and share experiences."
                                            ])
                                        )
                                    ])
                                )
                            ),
                            React.createElement(PostsList, { key: "posts" })
                        ]);
                }
            };

            return React.createElement(ThemeProvider, null,
                React.createElement(LocationProvider, null,
                    React.createElement(SoundProvider, null, [
                        React.createElement("div", { key: "app", className: "min-h-screen theme-transition" }, [
                            React.createElement(ArcNav, {
                                key: "nav",
                                currentPage: currentPage,
                                setCurrentPage: setCurrentPage
                            }),
                            React.createElement("main", { key: "main" }, renderPage())
                        ]),
                        React.createElement(MusicControls, { key: "music-controls" }),
                        React.createElement(SoundVisualizer, { key: "sound-visualizer" })
                    ])
                )
            );
        }

        // Main App Wrapper with Providers
        function AppWrapper() {
            return React.createElement(AppwriteProvider, null,
                React.createElement(App)
            );
        }
        // Render the app
        ReactDOM.render(React.createElement(AppWrapper), document.getElementById('root'));
    </script>
</body>
</html>